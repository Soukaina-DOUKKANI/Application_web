(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{102:function(e,t,c){},196:function(e,t){},197:function(e,t,c){},198:function(e,t,c){},211:function(e,t,c){},234:function(e,t,c){},240:function(e,t){},242:function(e,t){},253:function(e,t){},255:function(e,t){},282:function(e,t){},284:function(e,t){},285:function(e,t){},290:function(e,t){},292:function(e,t){},311:function(e,t){},323:function(e,t){},326:function(e,t){},329:function(e,t,c){},40:function(e,t,c){},423:function(e,t){},424:function(e,t){},425:function(e,t,c){},430:function(e,t,c){},432:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),r=c(33),s=c.n(r),l=c(6),o=c(2),i=(c(18),c(0)),j=Object(n.createContext)(),b=function(e){var t=Object(n.useState)({isLoggedIn:!1,role:""}),c=Object(o.a)(t,2),a=c[0],r=c[1];return Object(i.jsx)(j.Provider,{value:[a,r],children:e.children})};var d=c.p+"static/media/logo-white.871708e5.png";c(211);function u(){var e=Object(n.useContext)(j),t=Object(o.a)(e,2),c=t[0],a=t[1],r=function(){localStorage.removeItem("token"),a({isLoggedIn:!1,role:""})};return c.isLoggedIn?"admin"==c.role?Object(i.jsx)("nav",{className:" navbar navbar-expand-lg nav-color",children:Object(i.jsxs)("div",{className:"container ",children:[Object(i.jsx)(l.b,{to:"/",class:"navbar-brand ",children:Object(i.jsx)("img",{className:" image3",src:d,alt:d})}),Object(i.jsx)("div",{class:"collapse navbar-collapse",id:"navbarSupportedContent",children:Object(i.jsxs)("ul",{className:"navbar-nav  ",children:[Object(i.jsx)("li",{className:"nav-item active",children:Object(i.jsx)(l.b,{to:"/",className:"nav-link nav-text",children:" Accueil"})}),Object(i.jsx)("li",{className:"nav-item active",children:Object(i.jsx)(l.b,{to:"/Lister_utilisateurs",className:"nav-link nav-text ",children:" Utilisateurs"})}),Object(i.jsx)("li",{className:"nav-item active",children:Object(i.jsx)(l.b,{to:"/Home",onClick:r,className:"nav-link nav-text ",children:" D\xe9connexion"})})]})})]})}):Object(i.jsx)("nav",{className:" navbar navbar-expand-lg nav-color",children:Object(i.jsxs)("div",{className:"container ",children:[Object(i.jsx)(l.b,{to:"/",class:"navbar-brand ",children:Object(i.jsx)("img",{className:" image3",src:d,alt:d})}),Object(i.jsx)("div",{class:"collapse navbar-collapse",id:"navbarSupportedContent",children:Object(i.jsxs)("ul",{className:"navbar-nav  ",children:[Object(i.jsx)("li",{className:"nav-item active",children:Object(i.jsx)(l.b,{to:"/Affichage",className:"nav-link nav-text",children:" Accueil"})}),Object(i.jsx)("li",{className:"nav-item active",children:Object(i.jsx)(l.b,{to:"/Home",onClick:r,className:"nav-link nav-text ",children:" D\xe9connexion"})})]})})]})}):null}var h=c(11),m=c(35),O=c.n(m),x=c(13),p=c.p+"static/media/logo.b439c4ad.png";c(234);function f(){var e=Object(h.b)(),t=e.handleSubmit,c=e.register,a=Object(n.useContext)(j),r=Object(o.a)(a,2),s=(r[0],r[1]),l=Object(x.g)();O.a.defaults.withCredentials=!0;return Object(i.jsxs)("div",{className:"background-image",children:[Object(i.jsx)("div",{children:Object(i.jsx)("img",{className:"image2",src:p,alt:"logo"})}),Object(i.jsxs)("div",{className:"login-block",children:[Object(i.jsx)("h1",{className:"h1",children:"Bienvenue"}),Object(i.jsxs)("form",{onSubmit:t((function(e){O.a.post("http://localhost:4000/connexion",e).then((function(e){e.data.auth&&(localStorage.setItem("token",e.data.token),s({isLoggedIn:!0,role:e.data.response.role}),l.push("/"))}))})),children:[Object(i.jsx)("input",{id:"identifiant",autoComplete:"off",placeholder:"Identifiant",name:"identifiant",type:"text",ref:c({required:!0})}),Object(i.jsx)("input",{id:"password",autoComplete:"off",placeholder:"Mot de passe",name:"pwd",type:"password",ref:c({required:!0})}),Object(i.jsx)("button",{type:"submit",children:"Connexion"})]})]})]})}var v=c(16),g=c(14),N=function(e){var t=O.a.create({baseURL:"http://localhost:4000"});return t.interceptors.request.use((function(e){var t=localStorage.getItem("token");return e.headers.Authorization=t,e})),t.interceptors.response.use((function(e){return new Promise((function(t,c){t(e)}))}),(function(t){return t.response&&403===t.response.status?(localStorage.removeItem("token"),e&&e({isLoggedIn:!1,role:""}),new Promise((function(e,c){c(t)}))):new Promise((function(e,c){c(t)}))})),t},y=c(201),C=c.n(y),_=(c(329),c(69));function S(e){var t=e.match,c=Object(n.useState)(!1),a=Object(o.a)(c,2),r=a[0],s=a[1],l=Object(n.useState)({id:0,utilisateur:"",identifiant:"",pwd:"",procedures:[],fonctions:[]}),b=Object(o.a)(l,2),d=b[0],u=b[1],m=Object(h.b)(),O=m.register,p=m.handleSubmit,f=m.control,y=Object(n.useContext)(j),S=Object(o.a)(y,2),A=(S[0],S[1]),E=Object(n.useState)([]),D=Object(o.a)(E,2),k=D[0],P=D[1],w=Object(x.g)(),T=Object(n.useState)([]),L=Object(o.a)(T,2),M=L[0],R=L[1];Object(n.useEffect)((function(){N(A).get("/List_procedures").then((function(e){return P(e.data)})).catch((function(e){return console.log(e)}))}),[]),Object(n.useEffect)((function(){N(A).get("/List_fonctions").then((function(e){R(e.data)})).catch((function(e){return console.log(e)}))}),[]),Object(n.useEffect)((function(){var e=t.params.id;e&&N(A).get("/get_user/".concat(e)).then((function(e){var t=JSON.parse(e.data.procedures);JSON.parse(e.data.fonctions);console.log(function(e){var t=[];for(var c in e)t.push(e[c].value);return t}(t));var c={id:e.data.ID,utilisateur:e.data.nom_utilisateur,identifiant:e.data.identifiant,pwd:e.data.pwd,procedures:JSON.parse(e.data.procedures),fonctions:JSON.parse(e.data.fonctions)};console.log(c),u(c)})).catch((function(e){return console.log(e)}))}),[]);var F=function(e){var t=e.target,c=t.name,n=t.value;u((function(e){return Object(g.a)(Object(g.a)({},e),{},Object(v.a)({},c,n))}))};return console.log("procedures",d.procedures),Object(i.jsx)("div",{className:"utilisateurs-creation",children:Object(i.jsxs)("form",{className:"container",onSubmit:p((function(e){console.log(e),N(A).post("/users",e).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)})),w.push("/Lister_utilisateurs")})),children:[Object(i.jsx)("h2",{style:{marginBottom:"20px"},children:" Gestion des comptes Utilisateurs"}),Object(i.jsxs)("div",{className:"form-group",children:[Object(i.jsx)("input",{type:"hidden",name:"id",value:d.id,ref:O}),Object(i.jsxs)("p",{className:"row",children:[Object(i.jsx)("label",{className:"col-md-4",for:"utilisateur",children:" Ajouter le nom de l'utilisateur"}),Object(i.jsx)("input",{className:"form-control col-sm-7 ",onChange:F,value:d.utilisateur,id:"utilisateur",name:"utilisateur",type:"text",autoComplete:"off",ref:O({required:!0})})]}),Object(i.jsxs)("p",{className:"row",children:[Object(i.jsx)("label",{className:"col-md-4",for:"identifiant",children:" Cr\xe9er un identifiant"}),Object(i.jsx)("input",{className:"form-control col-sm-7",onChange:F,onBlur:function(e){var t=e.target.value;if(""!=t){var c=d.id;N(A).get("/checkIdentifiant/".concat(t,"/").concat(c)).then((function(e){"abort"==e.data?(u((function(e){return Object(g.a)(Object(g.a)({},e),{},{identifiant:""})})),s(!0)):s(!1)})).catch((function(e){return console.log(e)}))}},value:d.identifiant,id:"identifiant",name:"identifiant",type:"text",autoComplete:"off",ref:O({required:!0})})]}),r&&Object(i.jsx)("div",{class:"alert alert-danger",role:"alert",children:"Identifiant d\xe9j\xe0 existant!"}),Object(i.jsxs)("p",{className:"input-group ",children:[Object(i.jsx)("label",{for:"pwd",children:" Cr\xe9er un mot de passe"}),Object(i.jsx)("input",{style:{marginLeft:"15%"},autoComplete:"off",className:"form-control col-md-6",onChange:F,value:d.pwd,name:"pwd",id:"pwd",ref:O({required:!0})}),Object(i.jsx)("div",{className:"input-group-append",children:Object(i.jsx)("button",{style:{paddingRight:"22px"},className:"btn btn-outline-primary  ",type:"button",onClick:function(e){e.preventDefault(),u((function(e){return Object(g.a)(Object(g.a)({},e),{},{pwd:C.a.generate({length:15,numbers:!0,lowercase:!0,uppercase:!0})})}))},children:" G\xe9n\xe9rer"})})]}),Object(i.jsxs)("p",{className:"row",children:[Object(i.jsx)("label",{className:"col-md-3",children:"Liste des proc\xe9dures "}),Object(i.jsx)("div",{style:{marginLeft:"8%",width:"58%"},children:Object(i.jsx)(h.a,{as:_.a,name:"procedures",control:f,value:d.procedures,defaultValue:"",placeholder:"Selectionner",options:function(e){var t=[];return e.map((function(e){t.push({value:e.P,label:e.P})})),t}(k),isMulti:!0,isClearable:!0,isSearchable:!0})})]}),Object(i.jsxs)("p",{className:"row",children:[Object(i.jsx)("label",{className:"col-md-3",children:"Liste des fonctions"}),Object(i.jsx)("div",{style:{marginLeft:"8%",width:"58%"},children:Object(i.jsx)(h.a,{as:_.a,name:"fonctions",control:f,value:d.fonctions,defaultValue:"",placeholder:"Selectionner",options:function(e){var t=[];return e.map((function(e){t.push({value:e.F,label:e.F})})),t}(M),isMulti:!0,isClearable:!0,isSearchable:!0})})]})]}),Object(i.jsx)("button",{onClick:function(){return alert("Modifications enregistr\xe9es")},type:"submit",style:{marginLeft:"81%"},className:"  btn btn-primary",children:"Enregistrer "})]})})}c(40),c(60);function A(e){var t=e.match,c=Object(h.b)(),a=c.register,r=c.handleSubmit,s=Object(n.useState)({parameters:[]}),b=Object(o.a)(s,2),d=b[0],u=b[1],m=Object(n.useContext)(j),O=Object(o.a)(m,2),x=(O[0],O[1]);Object(n.useEffect)((function(){N(x).get("/page1/".concat(t.params.name,"/").concat(t.params.baseDD)).then((function(e){return u(e.data)})).catch((function(e){return console.log(e)}))}),[]);return Object(i.jsx)("div",{children:Object(i.jsxs)("form",{className:"container",onSubmit:r((function(e){N(x).post("/set_data/".concat(t.params.name,"/").concat(t.params.baseDD),e).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)})),console.log(JSON.stringify(e))})),children:[Object(i.jsxs)("h2",{style:{marginTop:"10px",marginBottom:"20px"},children:[" M\xe9tadonn\xe9es de la  proc\xe9dure ",d.SP_NAME," "]}),Object(i.jsx)("table",{className:"table table-bordered",children:Object(i.jsxs)("tbody",{children:[Object(i.jsxs)("tr",{children:[Object(i.jsx)("input",{type:"hidden",value:t.params.baseDD,name:"bdd",ref:a}),Object(i.jsx)("th",{children:"NOM DE LA PROCEDURE"}),Object(i.jsx)("td",{children:Object(i.jsx)("input",{className:"form-control col-sm-11",name:"procedure",autoComplete:"off",type:"text",placeholder:"Renommer",ref:a})})]}),Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{children:"NOM DE LA BDD"}),Object(i.jsx)("td",{children:d.DATABASE})]}),Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{children:"SCHEMA"}),Object(i.jsx)("td",{children:d.SCHEMA})]}),Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{children:"DESCRIPTION"}),Object(i.jsx)("td",{children:Object(i.jsx)("textarea",{className:"form-control col-sm-11",name:"description",autoComplete:"off",type:"text",placeholder:"Ajouter une description",ref:a})})]}),Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{children:"NOM DE L'AUTEUR"}),Object(i.jsx)("td",{children:d.Author_name})]}),Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{children:"DATE DE CREATION"}),Object(i.jsx)("td",{children:d.CREATE_DATE})]}),Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{children:"DATE DE MODIFICATION"}),Object(i.jsx)("td",{children:d.MODIFY_DATE})]}),Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{children:"PARAMETRES"}),Object(i.jsx)("td",{children:d.parameters.map((function(e){return"date"===e.DATA_TYPE?Object(i.jsx)("div",{className:"parameter-border",children:Object(i.jsxs)("p",{className:"row",children:[Object(i.jsx)("label",{className:"col-md-2",children:e.PARAMETER_NAME}),Object(i.jsx)("input",{className:"form-control col-sm-9",name:e.PARAMETER_NAME,autoComplete:"off",type:"text",placeholder:"Renommer",ref:a})]})}):"varchar"===e.DATA_TYPE?Object(i.jsxs)("div",{className:"parameter-border",children:[Object(i.jsxs)("p",{className:"row",children:[Object(i.jsx)("label",{className:"col-md-2",children:e.PARAMETER_NAME}),Object(i.jsx)("input",{className:"form-control col-sm-9",autoComplete:"off",name:e.PARAMETER_NAME,type:"text",placeholder:"Renommer",ref:a})]}),Object(i.jsxs)("p",{className:"row",children:[Object(i.jsx)("label",{className:"col-md-2"}),Object(i.jsx)("input",{className:"form-control col-sm-9",autoComplete:"OFF",placeholder:"ins\xe9rer une valeur",name:"valeur",type:"text",ref:a})]}),Object(i.jsxs)("p",{className:"row",children:[Object(i.jsx)("label",{className:"col-md-2",children:"OU"}),Object(i.jsx)("textarea",{className:"form-control col-sm-9",autoComplete:"off",placeholder:" ins\xe9rer une requ\xeate",name:"request",type:"text",ref:a})]})]}):void 0}))})]})]})}),Object(i.jsxs)("div",{className:" container row ",style:{marginBottom:"60px"},children:[Object(i.jsx)("button",{style:{marginLeft:"400px"},onClick:function(){return alert("Op\xe9ration r\xe9ussie")},className:"btn btn-primary",type:"submit",children:" Enregistrer"}),Object(i.jsx)("div",{style:{marginLeft:"30px"},children:Object(i.jsx)(l.b,{to:"/GrapheParametres/".concat(d.SP_NAME," "),children:Object(i.jsx)("button",{className:"btn btn-info",children:" Param\xe9trer le graphe"})})})]})]})})}var E=c(202),D=c.n(E);c(338);function k(e){var t=e.type,c=e.valeur,a=e.bdd,r=e.requete,s=e.register,l=e.control,b=e.setValue,d="@date_in"==t.toLowerCase(),u=""!==c,m=Object(n.useState)([]),O=Object(o.a)(m,2),x=O[0],p=O[1],f=Object(n.useState)(null),v=Object(o.a)(f,2),g=v[0],y=v[1],C=Object(n.useContext)(j),_=Object(o.a)(C,2),S=(_[0],_[1]);Object(n.useEffect)((function(){d||u||N(S).get("/Get_options/".concat(r,"/").concat(a)).then((function(e){return p(e.data)})).catch((function(e){return console.log(e)}))}),[]);var A=function(e){b(t,e,{shouldDirty:!0}),y(e)};return d?Object(i.jsx)("div",{className:"form-group align-parameters",children:Object(i.jsx)(h.a,{control:l,name:t,defaultValue:g,render:function(){return Object(i.jsx)(D.a,{className:"form-control col-md-12",selected:g,onChange:A,dateFormat:"dd/MM/yyyy",showYearDropdown:!0,scrollableMonthYearDropdown:!0,isClearable:!0})}})}):u?Object(i.jsx)("input",{className:"form-control align-parameters",value:c,name:t,ref:s}):Object(i.jsx)("div",{children:Object(i.jsx)("select",{className:"form-control",name:t,ref:s,children:x.map((function(e){return Object(i.jsx)("option",{value:e.Valeur,children:e.Valeur})}))})})}var P=c(68),w=c.n(P),T=c(43),L=c.n(T);c(64);function M(e){var t=e.data,c=e.procedure,a=Object(n.useContext)(j),r=Object(o.a)(a,2),s=(r[0],r[1]),l=Object(n.useState)([]),b=Object(o.a)(l,2),d=b[0],u=b[1];Object(n.useEffect)((function(){N(s).get("/getGraph/".concat(c)).then((function(e){u(e.data),console.log(e)})).catch((function(e){return console.log(e)}))}),[]),console.log(d);var h={},m={columns:[]},O={},x="",p={};return Object(n.useEffect)((function(){var e=function(e){var t=[];return Object.keys(e).map((function(e){var c=e.split("_")[0];t.find((function(e){return e==c}))||t.push(c)})),t}(d),c=-1;e.map((function(e){"title"==e&&(x=d[e]),d[e+"_visible"]&&(c++,"seance"===e.toLowerCase()?(m.columns[c]=["x"],m.x="x",O.x={type:"timeseries",tick:{format:function(e){return L()(e).format("DD/MM/yyyy")}}}):m.columns[c]=[e],t.map((function(t){"seance"===e.toLowerCase()?m.columns[c].push(L()(t[e]).format("YYYY-MM-DD")):m.columns[c].push(t[e])})),"y"==d[e+"_axe"]&&(h[e]=d[e+"_chart"],O.y={label:{text:d[e+"_label"],position:"outer-middle"}}),"y2"==d[e+"_axe"]&&(p[e]=d[e+"_axe"],h[e]=d[e+"_chart"],O.y2={show:!0,label:{text:d[e+"_label"],position:"outer-middle"}}))})),m.types=h,m.axes=p,w.a.generate({bindto:"#chart",data:m,title:{text:x},axis:O})}),[t]),t.length?Object(i.jsx)("div",{id:"chart"}):null}var R=c(204),F=c(111),I=function(e){var t=e.apiData,c=e.fileName;return Object(i.jsx)("button",{className:"btn btn-success",onClick:function(e){return function(e,t){var c={Sheets:{data:F.utils.json_to_sheet(e)},SheetNames:["data"]},n=F.write(c,{bookType:"xlsx",type:"array"}),a=new Blob([n],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});R.saveAs(a,t+".xlsx")}(t,c)},children:"Exporter les donn\xe9es  Excel"})};c(197);function B(e){var t=e.match,c=Object(n.useState)({}),a=Object(o.a)(c,2),r=a[0],s=a[1],l=Object(n.useState)([]),b=Object(o.a)(l,2),d=b[0],u=b[1],m=Object(h.b)(),O=m.control,x=m.setValue,p=m.register,f=m.handleSubmit,v=Object(n.useContext)(j),g=Object(o.a)(v,2),y=(g[0],g[1]);Object(n.useEffect)((function(){N(y).get("/Get_procedure_user/".concat(t.params.proc)).then((function(e){return s(e.data)})).catch((function(e){return console.log(e)}))}),[]);return Object(i.jsxs)("div",{className:"interface-user",children:[Object(i.jsx)("form",{onSubmit:f((function(e){N(y).post("/set_procedure",e).then((function(e){return u(e.data)})).catch((function(e){return console.log(e)}))})),children:Object(i.jsx)("table",{className:"table table-light",children:Object(i.jsxs)("tbody",{children:[Object.keys(r).map((function(e){return"bdd"==e?Object(i.jsx)("input",{type:"hidden",name:"bdd",value:r[e],ref:p}):"procedure"==e?Object(i.jsxs)("div",{children:[Object(i.jsxs)("h2",{children:[" ",r[e],"  "]}),Object(i.jsx)("input",{type:"hidden",value:t.params.proc,name:"nameProc",ref:p})]}):"description"==e?Object(i.jsxs)("tr",{className:"row",children:[Object(i.jsx)("th",{className:"col-md-2",children:"DESCRIPTION"}),Object(i.jsxs)("td",{className:"col-sm-7",children:[r[e]," "]})]}):"@"==e.charAt(0)?Object(i.jsxs)("tr",{className:"row",children:[Object(i.jsxs)("th",{className:"col-md-2",children:[r[e]," "]}),Object(i.jsxs)("td",{className:"col-sm-7",children:[" ",Object(i.jsx)(k,{type:e,valeur:r.valeur,requete:r.request,register:p,setValue:x,control:O})," "]})]}):void 0})),Object(i.jsx)("div",{className:"div",children:Object(i.jsx)("button",{style:{marginTop:"10px"},className:"btn btn-primary",type:"submit",children:" Executer"})})]})})}),Object(i.jsx)("div",{className:"container",style:{marginTop:"30px "},children:Object(i.jsx)(M,{data:d,procedure:t.params.proc})}),Object(i.jsx)("div",{children:d.length>0&&Object(i.jsx)(I,{apiData:d,fileName:"Data"})})]})}c(198),c(102);function q(){var e=Object(n.useContext)(j),t=Object(o.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(!1),s=Object(o.a)(r,2),b=s[0],d=s[1],u=Object(n.useState)([]),h=Object(o.a)(u,2),m=h[0],O=h[1],x=Object(n.useState)(""),p=Object(o.a)(x,2),f=p[0],v=p[1],g=Object(n.useState)(!1),y=Object(o.a)(g,2),C=y[0],_=y[1],S=Object(n.useState)(!1),A=Object(o.a)(S,2),E=A[0],D=A[1],k=Object(n.useState)([]),P=Object(o.a)(k,2),w=P[0],T=P[1],L=Object(n.useState)([]),M=Object(o.a)(L,2),R=M[0],F=M[1],I=Object(n.useState)([]),B=Object(o.a)(I,2),q=B[0],V=B[1],Y=Object(n.useState)("APP_WEB_DATA"),G=Object(o.a)(Y,2),U=G[0],H=G[1];Object(n.useEffect)((function(){N(a).get("/BDD").then((function(e){return V(e.data)})).catch((function(e){return console.log(e)}))}),[]),Object(n.useEffect)((function(){N(a).get("/appFonction/".concat(U)).then((function(e){T(e.data)})).catch((function(e){return console.log(e)}))}),[U]),Object(n.useEffect)((function(){N(a).get("/appProcedure/".concat(U)).then((function(e){O(e.data)})).catch((function(e){return console.log(e)}))}),[U]),Object(n.useEffect)((function(){N(a).get("/allData/".concat(U)).then((function(e){F(e.data)})).catch((function(e){return console.log(e)}))}),[U]);var J=function(e){v(e),d(!1)};return Object(i.jsxs)("div",{children:["admin"==c.role&&Object(i.jsxs)("div",{className:"div2",children:[Object(i.jsx)(l.b,{to:"/Affichage",children:Object(i.jsx)("button",{className:"bouton",children:"Affichage"})}),Object(i.jsx)(l.b,{to:"/AjoutProcedure",children:Object(i.jsx)("button",{className:"bouton2",children:"Ajouter une proc\xe9dure"})}),Object(i.jsx)(l.b,{to:"/ajoutFonction",children:Object(i.jsx)("button",{className:"bouton3",children:"Ajouter une fonction"})}),Object(i.jsx)(l.b,{to:"/",children:Object(i.jsx)("button",{className:"search-btn",children:"Recherche"})})]}),Object(i.jsxs)("div",{className:"div3",children:["admin"==c.role&&Object(i.jsx)("div",{children:Object(i.jsx)("div",{children:Object(i.jsxs)("div",{className:"form-group row",children:[Object(i.jsx)("div",{className:"col-md-2",children:Object(i.jsx)("label",{for:"bdd",children:"Base de donn\xe9es  "})}),Object(i.jsx)("div",{className:"col-sm-6",children:Object(i.jsx)("select",{className:"form-control",name:"bdd",onChange:function(e){H(e.target.value)},children:q.map((function(e){return Object(i.jsx)("option",{value:e.bdd,children:e.bdd})}))})})]})})}),Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{className:" div5 row",children:[Object(i.jsx)("input",{className:"checkbox1",type:"checkbox",name:"procedure",value:E,onChange:function(e){D(e.target.checked)}}),Object(i.jsx)("label",{children:"Proc\xe9dures"}),Object(i.jsx)("input",{className:"checkbox2",type:"checkbox",name:"fonction",value:C,onChange:function(e){_(e.target.checked)}}),Object(i.jsx)("label",{children:" Fonctions"})]}),Object(i.jsx)("div",{style:{width:"66%"},children:E&&!C&&Object(i.jsxs)("div",{className:"list-group",children:[Object(i.jsx)("input",{id:"auto",type:"text",placeholder:"Chercher une proc\xe9dure.....",onClick:function(){return d(!b)},value:f,onChange:function(e){return v(e.target.value)}}),b&&Object(i.jsx)("div",{className:"list-group",children:m.filter((function(e){return e.P.toLowerCase().indexOf(f.toLowerCase())>-1})).sort((function(e,t){return e.P>t.P?1:-1})).map((function(e){return"admin"==c.role?Object(i.jsx)("div",{onClick:function(){return J(e.P)},children:Object(i.jsxs)(l.b,{to:"/Details_procedure/".concat(e.P,"/").concat(U),className:"list-group-item  list-group-item-action list-group-item-light ",style:{color:"black"},children:[" ",e.P]},e.P)}):Object(i.jsx)("div",{onClick:function(){return J(e.P)},children:Object(i.jsxs)(l.b,{to:"/Interface_utilisateur/".concat(e.P),className:"list-group-item  list-group-item-action list-group-item-light ",style:{color:"black"},children:[" ",e.P]},e.P)})}))})]})}),Object(i.jsx)("div",{style:{width:"66%"},children:C&&!E&&Object(i.jsxs)("div",{className:"list-group",children:[Object(i.jsx)("input",{id:"auto",type:"text",placeholder:"Chercher une fonction.....",onClick:function(){return d(!b)},value:f,onChange:function(e){return v(e.target.value)}}),b&&Object(i.jsx)("div",{className:"list-group",children:w.filter((function(e){return e.F.toLowerCase().indexOf(f.toLowerCase())>-1})).sort((function(e,t){return e.F>t.F?1:-1})).map((function(e){return"admin"==c.role?Object(i.jsx)("div",{onClick:function(){return J(e.F)},children:Object(i.jsxs)(l.b,{to:"/Details_fonction/".concat(e.F,"/").concat(U),className:"list-group-item  list-group-item-action list-group-item-light ",style:{color:"black"},children:[" ",e.F]},e.F)}):Object(i.jsx)("div",{onClick:function(){return J(e.F)},children:Object(i.jsxs)(l.b,{to:"/Interface_utilisateur2/".concat(e.F),className:"list-group-item  list-group-item-action list-group-item-light ",style:{color:"black"},children:[" ",e.F]},e.F)})}))})]})}),Object(i.jsx)("div",{style:{width:"66%"},children:C&&E&&Object(i.jsxs)("div",{className:"list-group",children:[Object(i.jsx)("input",{id:"auto",type:"text",placeholder:"Chercher.....",onClick:function(){return d(!b)},value:f,onChange:function(e){return v(e.target.value)}}),b&&Object(i.jsx)("div",{children:Object(i.jsx)("div",{className:"list-group",children:R.map((function(e){return e.P?"admin"==c.role?Object(i.jsx)("div",{children:Object(i.jsx)("div",{onClick:function(){return J(e.P)},children:Object(i.jsxs)(l.b,{to:"/Details_procedure/".concat(e.P,"/").concat(U),className:"list-group-item  list-group-item-action list-group-item-light ",style:{color:"black"},children:[" ",e.P]},e.P)})}):Object(i.jsx)("div",{onClick:function(){return J(e.P)},children:Object(i.jsxs)(l.b,{to:"/Interface_utilisateur/".concat(e.P),className:"list-group-item  list-group-item-action list-group-item-light ",style:{color:"black"},children:[" ",e.P]},e.P)}):"admin"==c.role?Object(i.jsx)("div",{onClick:function(){return J(e.F)},children:Object(i.jsxs)(l.b,{to:"/Details_fonction/".concat(e.F,"/").concat(U),className:"list-group-item  list-group-item-action list-group-item-light ",style:{color:"black"},children:[" ",e.F]},e.F)}):Object(i.jsx)("div",{onClick:function(){return J(e.F)},children:Object(i.jsxs)(l.b,{to:"/Interface_utilisateur2/".concat(e.F),className:"list-group-item  list-group-item-action list-group-item-light ",style:{color:"black"},children:[" ",e.F]},e.F)})}))})})]})})]})]})]})}var V=c(205);function Y(e){var t=Object(n.useContext)(j),c=Object(o.a)(t,2),a=c[0];c[1];return!!a.isLoggedIn&&(a.role==e||void 0)}function G(e){var t=e.component,c=e.role,n=Object(V.a)(e,["component","role"]);return Object(i.jsxs)(i.Fragment,{children:[Y(c)&&Object(i.jsx)(x.b,Object(g.a)(Object(g.a)({},n),{},{render:function(e){return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)(t,Object(g.a)({},e))})}})),!Y(c)&&Object(i.jsx)(x.b,{render:function(){return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)(x.a,{to:"/"})})}})]})}function U(e){var t=e.match,c=Object(n.useContext)(j),a=Object(o.a)(c,2),r=(a[0],a[1]),s=Object(h.b)(),l=s.control,b=s.setValue,d=s.register,u=s.handleSubmit,m=Object(h.b)(),O=m.register,x=m.handleSubmit,p=Object(n.useState)({}),f=Object(o.a)(p,2),y=f[0],C=f[1],_=Object(n.useState)([]),S=Object(o.a)(_,2),A=S[0],E=S[1],D=Object(n.useState)({}),P=Object(o.a)(D,2),w=(P[0],P[1]),T=Object(n.useState)([]),L=Object(o.a)(T,2),M=(L[0],L[1]);Object(n.useEffect)((function(){N(r).get("/BDD").then((function(e){return M(e.data)})).catch((function(e){return console.log(e)}))}),[]);Object(n.useEffect)((function(){N(r).get("/Get_values/".concat(t.params.proc)).then((function(e){"procedure"==e.data.type?C(e.data.content):E(R(e.data.content))})).catch((function(e){return console.log(e)}))}),[]);var R=function(e){return Object.keys(e).map((function(t){t.indexOf("_visible")>0&&("true"==e[t]?e[t]=!0:e[t]=!1)})),e},F=[{value:"null",label:"null"},{value:"line",label:"Line chart"},{value:"bar",label:"Bar chart"},{value:"timeseries ",label:"Timeseries Chart"},{value:"spline",label:"Spline Chart"},{value:"area-spline",label:" area Spline Chart"},{value:"step",label:"Area Chart"},{value:"area-step",label:"Area Step Chart"},{value:"scatter ",label:"Scatter Plot"},{value:"pie",label:"Pie Chart"},{value:"donut",label:"Donut Chart"}],I=[{value:"null",label:"null"},{value:"x",label:"x"},{value:"y",label:"y"},{value:"y2",label:"y2"}],B=function(e){var t=[];return Object.keys(e).map((function(e){var c=e.split("_")[0];t.find((function(e){return e==c}))||"title"!=c&&t.push(c)})),t},q=function(e){var t=e.target,c=t.name,n=t.value;E((function(e){return Object(g.a)(Object(g.a)({},e),{},Object(v.a)({},c,n))}))},V=function(e){var t=e.target,c=t.name,n=t.checked;E((function(e){return Object(g.a)(Object(g.a)({},e),{},Object(v.a)({},c,n))}))},Y=B(A);return console.log("result",A),console.log("data",y),console.log("item",Y),Object(i.jsxs)("div",{className:"graphe-param",children:[!Object.keys(A).length&&Object(i.jsx)("form",{onSubmit:u((function(e){N(r).post("/set_procedure/",e).then((function(e){E(e.data[0])})).catch((function(e){return console.log(e)}))})),children:Object(i.jsxs)("div",{children:[Object.keys(y).map((function(e){return"procedure"==e?Object(i.jsxs)("div",{children:[Object(i.jsxs)("h2",{children:[" ",y[e],"  "]}),Object(i.jsx)("input",{type:"hidden",value:t.params.proc,name:"nameProc",ref:d})]}):"bdd"==e?Object(i.jsx)("input",{type:"hidden",value:y[e],name:"bdd",ref:d}):"@"==e.charAt(0)?Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)("label",{className:"col-md-1",children:y[e]}),Object(i.jsx)(k,{type:e,bdd:y.bdd,valeur:y.valeur,requete:y.request,register:d,setValue:b,control:l})]}):void 0})),Object(i.jsx)("div",{children:Object(i.jsx)("button",{style:{marginTop:"10px"},className:"btn btn-primary",type:"submit",children:" Executer"})})]})},1),Object.keys(A).length>0&&Object(i.jsxs)("form",{onSubmit:x((function(e){N(r).post("/setGraph/".concat(t.params.proc),e).then((function(e){w(e.data),console.log(e.data)})).catch((function(e){return console.log(e)}))})),children:[Object(i.jsx)("h2",{children:"Param\xe9trage du graphe"}),Object(i.jsxs)("table",{className:" table table2 table-bordered ",children:[Object(i.jsxs)("tr",{className:"form-group",children:[Object(i.jsx)("th",{children:"Titre"}),Object(i.jsx)("td",{colSpan:"4",children:Object(i.jsx)("input",{className:"form-control",onChange:q,name:"title",autoComplete:"off",value:A.title,placeholder:"Nom du graphe",ref:O})})]}),B(A).map((function(e){return Object(i.jsxs)("tr",{className:"form-group",children:[Object(i.jsx)("th",{children:e}),Object(i.jsxs)("td",{children:[Object(i.jsx)("input",{style:{marginLeft:"1px",marginRight:"1px"},onChange:V,className:"  form-check-input",type:"checkbox",name:e+"_visible",value:A[e+"_visible"],defaultChecked:A[e+"_visible"],ref:O}),Object(i.jsx)("label",{style:{marginLeft:"10px"},className:"col-md-2",children:"Visible"})]}),Object(i.jsx)("td",{children:Object(i.jsx)("input",{className:"form-control",onChange:q,autoComplete:"off",placeholder:"Label",name:e+"_label",value:A[e+"_label"],ref:O})}),Object(i.jsx)("td",{children:Object(i.jsx)("select",{className:"form-control",onChange:q,name:e+"_chart",value:A[e+"_chart"],ref:O,children:F.map((function(e){return Object(i.jsx)("option",{value:e.value,children:e.value})}))})}),Object(i.jsx)("td",{children:Object(i.jsx)("select",{className:"form-control",onChange:q,name:e+"_axe",value:A[e+"_axe"],ref:O,children:I.map((function(e){return Object(i.jsx)("option",{value:e.value,children:e.value})}))})})]})}))]}),Object(i.jsx)("div",{className:"div",children:Object(i.jsx)("button",{onClick:function(){return alert("Op\xe9ration r\xe9ussie")},className:"btn btn-primary",type:"submit",children:" Enregistrer"})})]},2)]})}function H(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),c=t[0],a=t[1],r=Object(n.useContext)(j),s=Object(o.a)(r,2),b=(s[0],s[1]);return Object(n.useEffect)((function(){N(b).get("/list_users").then((function(e){return a(e.data)})).catch((function(e){return console.log(e)}))}),[]),Object(i.jsxs)("div",{style:{marginTop:"30px"},className:" div3  ",children:[Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)("h2",{style:{marginLeft:"10px"},children:"Membres"}),Object(i.jsx)(l.b,{to:"/Utilisateurs",children:Object(i.jsx)("button",{style:{marginLeft:"30px"},type:"button",class:"btn btn-primary",children:" Ajouter un membre"})})]}),Object(i.jsxs)("table",{className:"table table-bordered ",style:{marginTop:"30px",width:"90%"},children:[Object(i.jsx)("thead",{children:Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{children:"Nom utilisateur"}),Object(i.jsx)("th",{children:"Identifiant"}),Object(i.jsx)("th",{children:"Actions"})]})}),Object(i.jsx)("tbody",{children:c.map((function(e){return Object(i.jsxs)("tr",{children:[Object(i.jsx)("td",{children:e.nom_utilisateur}),Object(i.jsx)("td",{children:e.identifiant}),Object(i.jsx)("td",{children:Object(i.jsx)(l.b,{to:"/Utilisateurs/".concat(e.ID),children:Object(i.jsx)("button",{style:{marginLeft:"30px"},type:"button",class:"btn btn-primary",children:"Editer"})})})]})}))})]})]})}function J(){var e=Object(h.b)(),t=e.register,c=e.handleSubmit,a=Object(n.useContext)(j),r=Object(o.a)(a,2),s=(r[0],r[1]),b=Object(n.useState)([]),d=Object(o.a)(b,2),u=d[0],m=d[1];Object(n.useEffect)((function(){N(s).get("/BDD").then((function(e){return m(e.data)})).catch((function(e){return console.log(e)}))}),[]);return Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{className:"div2 ",children:[Object(i.jsx)(l.b,{to:"/Affichage",children:Object(i.jsx)("button",{className:"bouton",children:"Affichage"})}),Object(i.jsx)(l.b,{to:"/AjoutProcedure",children:Object(i.jsx)("button",{className:"bouton2",children:"Ajouter une proc\xe9dure"})}),Object(i.jsx)(l.b,{to:"/ajoutFonction",children:Object(i.jsx)("button",{className:"bouton3",children:"Ajouter une fonction"})}),Object(i.jsx)(l.b,{to:"/",children:Object(i.jsx)("button",{className:"search-btn",children:"Recherche"})})]}),Object(i.jsx)("div",{className:"div3",children:Object(i.jsxs)("form",{onSubmit:c((function(e){N(s).post("/AjoutProcedure",e).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))})),children:[Object(i.jsxs)("div",{className:"form-group row",children:[Object(i.jsx)("div",{className:"col-md-2",children:Object(i.jsx)("label",{for:"nameproc",children:" Nom Proc\xe9dure "})}),Object(i.jsx)("div",{className:"col-sm-9",children:Object(i.jsx)("input",{autoComplete:"off",type:"text",className:"form-control",id:"nameproc",name:"name",placeholder:"Ins\xe9rer le nom de la proc\xe9dure ",ref:t})})]}),Object(i.jsxs)("div",{className:"form-group row",children:[Object(i.jsx)("div",{className:"col-md-2",children:Object(i.jsx)("label",{for:"bdd",children:"Base de donn\xe9es  "})}),Object(i.jsx)("div",{className:"col-sm-9",children:Object(i.jsx)("select",{className:"form-control",name:"bdd",ref:t,children:u.map((function(e){return Object(i.jsx)("option",{value:e.bdd,children:e.bdd})}))})})]}),Object(i.jsxs)("div",{class:"form-group row",children:[Object(i.jsx)("div",{className:"col-md-2",children:Object(i.jsx)("label",{for:"proc",children:"Requ\xeate SQL"})}),Object(i.jsx)("div",{className:"col-sm-9",children:Object(i.jsx)("textarea",{autoComplete:"off",type:"text",className:"form-control",id:"proc",name:"procedure",placeholder:"Ins\xe9rer la requ\xeate ",ref:t})})]}),Object(i.jsx)("button",{onClick:function(){return alert("Op\xe9ration r\xe9ussie")},type:"submit",className:" btn1 btn btn-primary",children:"Enregistrer"})]})})]})}function Q(e){var t=e.match,c=Object(h.b)(),a=c.register,r=c.handleSubmit,s=Object(n.useState)({parameters:[]}),b=Object(o.a)(s,2),d=b[0],u=b[1],m=Object(n.useContext)(j),O=Object(o.a)(m,2),x=(O[0],O[1]);Object(n.useEffect)((function(){N(x).get("/page_fct/".concat(t.params.name,"/").concat(t.params.baseDD)).then((function(e){return u(e.data)})).catch((function(e){return console.log(e)}))}),[]);return Object(i.jsx)("div",{children:Object(i.jsxs)("form",{className:"container",onSubmit:r((function(e){N(x).post("/set_data_fct/".concat(t.params.name,"/").concat(t.params.baseDD),e).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)})),console.log(JSON.stringify(e))})),children:[Object(i.jsxs)("h2",{style:{marginTop:"10px",marginBottom:"20px"},children:[" M\xe9tadonn\xe9es de la  fonction ",d.SP_NAME," "]}),Object(i.jsx)("table",{className:"table table-bordered",children:Object(i.jsxs)("tbody",{children:[Object(i.jsxs)("tr",{children:[Object(i.jsx)("input",{type:"hidden",value:t.params.baseDD,name:"bdd",ref:a}),Object(i.jsx)("th",{children:"NOM DE LA FONCTION"}),Object(i.jsx)("td",{children:Object(i.jsx)("input",{className:"form-control col-sm-11",name:"procedure",autoComplete:"off",type:"text",placeholder:"Renommer",ref:a})})]}),Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{children:"NOM DE LA BDD"}),Object(i.jsx)("td",{children:d.DATABASE})]}),Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{children:"SCHEMA"}),Object(i.jsx)("td",{children:d.SCHEMA})]}),Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{children:"DESCRIPTION"}),Object(i.jsx)("td",{children:Object(i.jsx)("textarea",{className:"form-control col-sm-11",name:"description",autoComplete:"off",type:"text",placeholder:"Ajouter une description",ref:a})})]}),Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{children:"NOM DE L'AUTEUR"}),Object(i.jsx)("td",{children:d.Author_name})]}),Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{children:"DATE DE CREATION"}),Object(i.jsx)("td",{children:d.CREATE_DATE})]}),Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{children:"DATE DE MODIFICATION"}),Object(i.jsx)("td",{children:d.MODIFY_DATE})]}),Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{children:"PARAMETRES"}),Object(i.jsx)("td",{children:d.parameters.map((function(e){return"date"===e.DATA_TYPE?Object(i.jsx)("div",{className:"parameter-border",children:Object(i.jsxs)("p",{className:"row",children:[Object(i.jsx)("label",{className:"col-md-2",children:e.PARAMETER_NAME}),Object(i.jsx)("input",{className:"form-control col-sm-9",name:e.PARAMETER_NAME,autoComplete:"off",type:"text",placeholder:"Renommer",ref:a})]})}):"varchar"===e.DATA_TYPE?Object(i.jsxs)("div",{className:"parameter-border",children:[Object(i.jsxs)("p",{className:"row",children:[Object(i.jsx)("label",{className:"col-md-2",children:e.PARAMETER_NAME}),Object(i.jsx)("input",{className:"form-control col-sm-9",autoComplete:"off",name:e.PARAMETER_NAME,type:"text",placeholder:"Renommer",ref:a})]}),Object(i.jsxs)("p",{className:"row",children:[Object(i.jsx)("label",{className:"col-md-2"}),Object(i.jsx)("input",{className:"form-control col-sm-9",autoComplete:"OFF",placeholder:"ins\xe9rer une valeur",name:"valeur",type:"text",ref:a})]}),Object(i.jsxs)("p",{className:"row",children:[Object(i.jsx)("label",{className:"col-md-2",children:"OU"}),Object(i.jsx)("textarea",{className:"form-control col-sm-9",autoComplete:"off",placeholder:" ins\xe9rer une requ\xeate",name:"request",type:"text",ref:a})]})]}):void 0}))})]})]})}),Object(i.jsxs)("div",{className:" container row ",style:{marginBottom:"60px"},children:[Object(i.jsx)("button",{style:{marginLeft:"400px"},onClick:function(){return alert("Op\xe9ration r\xe9ussie")},className:"btn btn-primary",type:"submit",children:" Enregistrer"}),Object(i.jsx)(l.b,{to:"/GrapheParametresFct/".concat(d.SP_NAME," "),children:Object(i.jsx)("button",{style:{marginLeft:"30px"},className:"btn btn-info",children:" Param\xe9trer le graphe"})})]})]})})}function z(e){var t=e.match,c=Object(n.useContext)(j),a=Object(o.a)(c,2),r=(a[0],a[1]),s=Object(h.b)(),l=s.control,b=s.setValue,d=s.register,u=s.handleSubmit,m=Object(h.b)(),O=m.register,x=m.handleSubmit,p=Object(n.useState)({}),f=Object(o.a)(p,2),y=f[0],C=f[1],_=Object(n.useState)([]),S=Object(o.a)(_,2),A=S[0],E=S[1],D=Object(n.useState)({}),P=Object(o.a)(D,2),w=(P[0],P[1]),T=Object(n.useState)([]),L=Object(o.a)(T,2),M=(L[0],L[1]);Object(n.useEffect)((function(){N(r).get("/BDD").then((function(e){return M(e.data)})).catch((function(e){return console.log(e)}))}),[]);Object(n.useEffect)((function(){N(r).get("/Get_values_fct/".concat(t.params.fct)).then((function(e){"function"==e.data.type?C(e.data.content):E(R(e.data.content))})).catch((function(e){return console.log(e)}))}),[]);var R=function(e){return Object.keys(e).map((function(t){t.indexOf("_visible")>0&&("true"==e[t]?e[t]=!0:e[t]=!1)})),e},F=[{value:"null",label:"null"},{value:"line",label:"Line chart"},{value:"bar",label:"Bar chart"},{value:"timeseries ",label:"Timeseries Chart"},{value:"spline",label:"Spline Chart"},{value:"area-spline",label:" area Spline Chart"},{value:"step",label:"Area Chart"},{value:"area-step",label:"Area Step Chart"},{value:"scatter ",label:"Scatter Plot"},{value:"pie",label:"Pie Chart"},{value:"donut",label:"Donut Chart"}],I=[{value:"null",label:"null"},{value:"x",label:"x"},{value:"y",label:"y"},{value:"y2",label:"y2"}],B=function(e){var t=e.target,c=t.name,n=t.value;E((function(e){return Object(g.a)(Object(g.a)({},e),{},Object(v.a)({},c,n))}))},q=function(e){var t=e.target,c=t.name,n=t.checked;E((function(e){return Object(g.a)(Object(g.a)({},e),{},Object(v.a)({},c,n))}))};return console.log("result",A),Object(i.jsxs)("div",{className:"graphe-param",children:[0==Object.keys(A).length&&Object(i.jsx)("form",{onSubmit:u((function(e){console.log("df",e),N(r).post("/set_function/",e).then((function(e){E(e.data[0])})).catch((function(e){return console.log(e)}))})),children:Object(i.jsxs)("div",{children:[Object.keys(y).map((function(e){return"procedure"==e?Object(i.jsxs)("div",{children:[Object(i.jsxs)("h2",{children:[" ",y[e],"  "]}),Object(i.jsx)("input",{type:"hidden",value:t.params.fct,name:"nameProc",ref:d})]}):"bdd"==e?Object(i.jsx)("input",{type:"hidden",value:y[e],name:"bdd",ref:d}):"@"==e.charAt(0)?Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)("label",{className:"col-md-1",children:y[e]}),Object(i.jsx)(k,{type:e,bdd:y.bdd,valeur:y.valeur,requete:y.request,register:d,setValue:b,control:l})]}):void 0})),Object(i.jsx)("div",{children:Object(i.jsx)("button",{style:{marginTop:"10px"},className:"btn btn-primary",type:"submit",children:" Executer"})})]})},1),Object.keys(A).length>0&&Object(i.jsxs)("form",{onSubmit:x((function(e){N(r).post("/setGraphFct/".concat(t.params.fct),e).then((function(t){w(t.data),console.log(e),console.log(t)})).catch((function(e){return console.log(e)}))})),children:[Object(i.jsx)("h2",{children:"Param\xe9trage du graphe"}),Object(i.jsxs)("table",{className:" table table2 table-bordered ",children:[Object(i.jsxs)("tr",{className:"form-group",children:[Object(i.jsx)("th",{children:"Titre"}),Object(i.jsx)("td",{colspan:"4",children:Object(i.jsx)("input",{className:"form-control",name:"title",onChange:B,value:A.title,autoComplete:"off",placeholder:"Nom du graphe",ref:O})})]}),function(e){var t=[];return Object.keys(e).map((function(e){var c=e.split("_")[0];t.find((function(e){return e==c}))||"title"!=c&&t.push(c)})),t}(A).map((function(e){return Object(i.jsxs)("tr",{className:"form-group",children:[Object(i.jsx)("th",{children:e}),Object(i.jsxs)("td",{children:[Object(i.jsx)("input",{style:{marginLeft:"1px",marginRight:"1px"},class:"form-check-input",type:"checkbox",onChange:q,value:A[e+"_visible"],defaultChecked:A[e+"_visible"],name:e+"_visible",ref:O}),Object(i.jsx)("label",{style:{marginLeft:"10px"},className:"col-md-2",children:"Visible"})]}),Object(i.jsx)("td",{children:Object(i.jsx)("input",{className:"form-control",onChange:B,autoComplete:"off",placeholder:"Label",name:e+"_label",value:A[e+"_label"],ref:O})}),Object(i.jsx)("td",{children:Object(i.jsx)("select",{className:"form-control",onChange:B,value:A[e+"_chart"],name:e+"_chart",ref:O,children:F.map((function(e){return Object(i.jsx)("option",{value:e.value,children:e.value})}))})}),Object(i.jsx)("td",{children:Object(i.jsx)("select",{className:"form-control",onChange:B,value:A[e+"_axe"],name:e+"_axe",ref:O,children:I.map((function(e){return Object(i.jsx)("option",{value:e.value,children:e.value})}))})})]})}))]}),Object(i.jsx)("div",{className:"div",children:Object(i.jsx)("button",{onClick:function(){return alert("Op\xe9ration r\xe9ussie")},className:"btn btn-primary",type:"submit",children:" Enregistrer"})})]},2)]})}function W(e){var t=e.data,c=e.fonction,a=Object(n.useContext)(j),r=Object(o.a)(a,2),s=(r[0],r[1]),l=Object(n.useState)([]),b=Object(o.a)(l,2),d=b[0],u=b[1];Object(n.useEffect)((function(){N(s).get("/getGraphFct/".concat(c)).then((function(e){u(e.data),console.log(e)})).catch((function(e){return console.log(e)}))}),[]),console.log(d);var h={},m={columns:[]},O={},x="",p={};return Object(n.useEffect)((function(){var e=function(e){var t=[];return Object.keys(e).map((function(e){var c=e.split("_")[0];t.find((function(e){return e==c}))||t.push(c)})),t}(d),c=-1;e.map((function(e){"title"==e&&(x=d[e]),d[e+"_visible"]&&(c++,"seance"===e.toLowerCase()?(m.columns[c]=["x"],m.x="x",O.x={type:"timeseries",tick:{format:function(e){return L()(e).format("DD/MM/yyyy")}}}):m.columns[c]=[e],t.map((function(t){"seance"===e.toLowerCase()?m.columns[c].push(L()(t[e]).format("YYYY-MM-DD")):m.columns[c].push(t[e])})),"y"==d[e+"_axe"]&&(h[e]=d[e+"_chart"],O.y={label:{text:d[e+"_label"],position:"outer-middle"}}),"y2"==d[e+"_axe"]&&(p[e]=d[e+"_axe"],h[e]=d[e+"_chart"],O.y2={show:!0,label:{text:d[e+"_label"],position:"outer-middle"}}))})),m.types=h,m.axes=p,w.a.generate({bindto:"#chart",data:m,title:{text:x},axis:O})}),[t]),t.length?Object(i.jsx)("div",{id:"chart"}):null}function K(e){var t=e.match,c=Object(n.useState)({}),a=Object(o.a)(c,2),r=a[0],s=a[1],l=Object(n.useState)([]),b=Object(o.a)(l,2),d=b[0],u=b[1],m=Object(h.b)(),O=m.control,x=m.setValue,p=m.register,f=m.handleSubmit,v=Object(n.useContext)(j),g=Object(o.a)(v,2),y=(g[0],g[1]);Object(n.useEffect)((function(){N(y).get("/Get_function_user/".concat(t.params.fct)).then((function(e){return s(e.data)})).catch((function(e){return console.log(e)}))}),[]);return Object(i.jsxs)("div",{className:"interface-user",children:[Object(i.jsx)("form",{onSubmit:f((function(e){N(y).post("/set_function",e).then((function(e){return u(e.data)})).catch((function(e){return console.log(e)}))})),children:Object(i.jsx)("table",{className:"table table-light",children:Object(i.jsxs)("tbody",{children:[Object.keys(r).map((function(e){return"bdd"===e?Object(i.jsx)("input",{type:"hidden",name:"bdd",value:r[e],ref:p}):"procedure"===e?Object(i.jsxs)("div",{children:[Object(i.jsxs)("h2",{children:[" ",r[e],"  "]}),Object(i.jsx)("input",{type:"hidden",value:t.params.fct,name:"nameProc",ref:p})]}):"description"===e?Object(i.jsxs)("tr",{className:"row",children:[Object(i.jsx)("th",{className:"col-md-2",children:"DESCRIPTION"}),Object(i.jsxs)("td",{className:"col-sm-7",children:[r[e]," "]})]}):"@"===e.charAt(0)?Object(i.jsxs)("tr",{className:"row",children:[Object(i.jsxs)("th",{className:"col-md-2",children:[r[e]," "]}),Object(i.jsxs)("td",{className:"col-sm-7",children:[" ",Object(i.jsx)(k,{type:e,valeur:r.valeur,requete:r.request,register:p,setValue:x,control:O})," "]})]}):void 0})),Object(i.jsx)("div",{className:"div",children:Object(i.jsx)("button",{style:{marginTop:"10px"},className:"btn btn-primary",type:"submit",children:" Executer"})})]})})}),Object(i.jsx)("div",{className:"container",style:{marginTop:"30px "},children:Object(i.jsx)(W,{data:d,fonction:t.params.fct})}),Object(i.jsx)("div",{children:d.length>0&&Object(i.jsx)(I,{apiData:d,fileName:"Data"})})]})}function X(){var e=Object(h.b)(),t=e.register,c=e.handleSubmit,a=Object(n.useContext)(j),r=Object(o.a)(a,2),s=(r[0],r[1]),b=Object(n.useState)([]),d=Object(o.a)(b,2),u=d[0],m=d[1];Object(n.useEffect)((function(){N(s).get("/BDD").then((function(e){return m(e.data)})).catch((function(e){return console.log(e)}))}),[]);return Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{className:"div2",children:[Object(i.jsx)(l.b,{to:"/Affichage",children:Object(i.jsx)("button",{className:"bouton",children:"Affichage"})}),Object(i.jsx)(l.b,{to:"/AjoutProcedure",children:Object(i.jsx)("button",{className:"bouton2",children:"Ajouter une proc\xe9dure"})}),Object(i.jsx)(l.b,{to:"/ajoutFonction",children:Object(i.jsx)("button",{className:"bouton3",children:"Ajouter une fonction"})}),Object(i.jsx)(l.b,{to:"/",children:Object(i.jsx)("button",{className:"search-btn",children:"Recherche"})})]}),Object(i.jsx)("div",{className:" div3",children:Object(i.jsxs)("form",{onSubmit:c((function(e){N(s).post("/AjoutFonction",e).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))})),children:[Object(i.jsxs)("div",{className:"form-group row",children:[Object(i.jsx)("div",{className:"col-md-2",children:Object(i.jsx)("label",{for:"namefct",children:"Nom Fonction  "})}),Object(i.jsx)("div",{className:"col-sm-9",children:Object(i.jsx)("input",{autoComplete:"off",type:"text",className:" content form-control",id:"namefct",name:"name",placeholder:"Ins\xe9rer le nom de la fonction ",ref:t})})]}),Object(i.jsxs)("div",{class:" form-group row",children:[Object(i.jsx)("div",{className:"col-md-2",children:Object(i.jsx)("label",{for:"bdd",children:"Base de donn\xe9es"})}),Object(i.jsx)("div",{className:"col-sm-9",children:Object(i.jsx)("select",{id:"bdd",name:"bdd",className:" content form-control",ref:t,children:u.map((function(e){return Object(i.jsx)("option",{value:e.bdd,children:e.bdd})}))})})]}),Object(i.jsxs)("div",{class:"form-group row",children:[Object(i.jsx)("div",{className:"col-md-2",children:Object(i.jsx)("label",{for:"proc",children:" Requ\xeate SQL "})}),Object(i.jsx)("div",{className:"col-sm-9",children:Object(i.jsx)("textarea",{autoComplete:"off",type:"text",className:"form-control",id:"proc",name:"fonction",placeholder:"Ins\xe9rer la requ\xeate ",ref:t})})]}),Object(i.jsx)("button",{onClick:function(){return alert("Op\xe9ration r\xe9ussie")},type:"submit",className:" btn1 btn btn-primary  ",children:"Enregistrer"})]})})]})}c(425);var Z=c(70),$=c.n(Z),ee=c.p+"static/media/microphone.4f5bf693.png";function te(){var e=Object(h.b)(),t=e.register,c=e.handleSubmit,a=Object(n.useState)([]),r=Object(o.a)(a,2),s=r[0],j=r[1],b=Object(Z.useSpeechRecognition)().transcript,d=Object(n.useState)(""),u=Object(o.a)(d,2),m=u[0],x=u[1];Object(n.useEffect)((function(){x(b)}),[b]);var f=function(e){O.a.post("http://localhost:4000/searchBar",e).then((function(e){return j(e.data)})).catch((function(e){return console.log(e)}))};return $.a.browserSupportsSpeechRecognition()?Object(i.jsxs)("div",{className:"container flex-column pas-rel",children:[Object(i.jsx)("div",{children:Object(i.jsx)(l.b,{to:"/Login",children:Object(i.jsx)("button",{style:{position:"absolute",top:"30px",right:"30px"},className:"btn btn-info",children:" S'authentifier"})})}),Object(i.jsx)("div",{children:Object(i.jsx)("img",{className:"image",src:p,alt:"logo"})}),Object(i.jsx)("div",{style:{marginTop:"40px"},className:"container col-md-6",children:Object(i.jsx)("form",{onSubmit:c(f),children:Object(i.jsxs)("div",{className:"container input-group mb-2",children:[Object(i.jsx)("input",{className:"form-control",type:"text",value:m,onChange:function(e){var t=e.target.value;x(t)},autoComplete:"off",ref:t,name:"search"}),Object(i.jsx)("div",{className:"input-group-append",children:Object(i.jsx)("button",{className:"btn btn-outline-primary",type:"submit",children:"Rechercher"})}),Object(i.jsx)("div",{children:Object(i.jsx)("button",{className:"vocal-search",onClick:function(){$.a.startListening({continuous:!1,language:"fr-FR"})},children:Object(i.jsx)("img",{className:"vocal-search-icon",src:ee})})})]})})}),Object(i.jsxs)("div",{styles:{marginTop:"10px"},className:"container ",children:[s.length>0&&s[0].table_name&&Object(i.jsxs)("table",{className:"table table-bordered ",children:[Object(i.jsx)("thead",{children:Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{children:"Nom de la base de donn\xe9es"}),Object(i.jsx)("th",{children:"Nom de la table"}),Object(i.jsx)("th",{children:"Description de la table"}),Object(i.jsx)("th",{children:"Nom de la colonne "}),Object(i.jsx)("th",{children:"Type de la colonne"})]})}),s.map((function(e){return Object(i.jsx)("tbody",{children:Object(i.jsxs)("tr",{children:[Object(i.jsx)("td",{children:e.database_name}),Object(i.jsx)("td",{children:e.table_name}),Object(i.jsx)("td",{children:e.table_description}),Object(i.jsx)("td",{children:e.column_name}),Object(i.jsx)("td",{children:e.column_type})]})})}))]}),s.length>0&&s[0].valeur&&Object(i.jsxs)("table",{className:"table table-bordered ",children:[Object(i.jsx)("thead",{children:Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{children:"S\xe9ance"}),Object(i.jsx)("th",{children:"Nom de l'entreprise"}),Object(i.jsx)("th",{children:"Valeur du cours"}),Object(i.jsx)("th",{children:"Valeur du volume"})]})}),s.map((function(e){return Object(i.jsx)("tbody",{children:Object(i.jsxs)("tr",{children:[Object(i.jsxs)("td",{children:[e.seance_vf," "]}),Object(i.jsx)("td",{children:e.valeur}),Object(i.jsxs)("td",{children:[e.cours_cloture," "]}),Object(i.jsxs)("td",{children:[e.volume," "]})]})})}))]})]})]}):Object(i.jsxs)("div",{className:"container flex-column pas-rel",children:[Object(i.jsx)("div",{children:Object(i.jsx)(l.b,{to:"/Login",children:Object(i.jsx)("button",{style:{position:"absolute",top:"30px",right:"30px"},className:"btn btn-info",children:" S'authentifier"})})}),Object(i.jsx)("div",{children:Object(i.jsx)("img",{className:"image",src:p,alt:"logo"})}),Object(i.jsx)("div",{style:{marginTop:"40px"},className:"container col-md-6",children:Object(i.jsx)("form",{onSubmit:c(f),children:Object(i.jsxs)("div",{className:"container input-group mb-3",children:[Object(i.jsx)("input",{className:"form-control",type:"text",autoComplete:"off",ref:t,name:"search"}),Object(i.jsx)("div",{className:"input-group-append",children:Object(i.jsx)("button",{className:"btn btn-outline-primary",type:"submit",children:"Rechercher"})})]})})}),Object(i.jsxs)("div",{styles:{marginTop:"10px"},className:"container ",children:[s.length>0&&s[0].table_name&&Object(i.jsxs)("table",{className:"table table-bordered ",children:[Object(i.jsx)("thead",{children:Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{children:"Nom de la base de donn\xe9es"}),Object(i.jsx)("th",{children:"Nom de la table"}),Object(i.jsx)("th",{children:"Description de la table"}),Object(i.jsx)("th",{children:"Nom de la colonne "}),Object(i.jsx)("th",{children:"Type de la colonne"})]})}),s.map((function(e){return Object(i.jsx)("tbody",{children:Object(i.jsxs)("tr",{children:[Object(i.jsx)("td",{children:e.database_name}),Object(i.jsx)("td",{children:e.table_name}),Object(i.jsx)("td",{children:e.table_description}),Object(i.jsx)("td",{children:e.column_name}),Object(i.jsx)("td",{children:e.column_type})]})})}))]}),s.length>0&&s[0].valeur&&Object(i.jsxs)("table",{className:"table table-bordered ",children:[Object(i.jsx)("thead",{children:Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{children:"S\xe9ance"}),Object(i.jsx)("th",{children:"Nom de l'entreprise"}),Object(i.jsx)("th",{children:"Valeur du cours"}),Object(i.jsx)("th",{children:"Valeur du volume"})]})}),s.map((function(e){return Object(i.jsx)("tbody",{children:Object(i.jsxs)("tr",{children:[Object(i.jsxs)("td",{children:[e.seance_vf," "]}),Object(i.jsx)("td",{children:e.valeur}),Object(i.jsxs)("td",{children:[e.cours_cloture," "]}),Object(i.jsxs)("td",{children:[e.volume," "]})]})})}))]})]})]})}function ce(){var e=Object(n.useContext)(j),t=Object(o.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)([]),s=Object(o.a)(r,2),b=s[0],d=s[1],u=Object(h.b)(),m=u.handleSubmit,O=u.register;return Object(i.jsxs)("div",{children:["admin"==c.role&&Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{className:"div2 ",children:[Object(i.jsx)("div",{className:"search-bar col-md-6 ",children:Object(i.jsx)("form",{onSubmit:m((function(e){N(a).post("/search",e).then((function(e){d(e.data),console.log(e.data)})).catch((function(e){return console.log(e)}))})),children:Object(i.jsx)("div",{children:Object(i.jsxs)("div",{style:{position:"absolute",left:"420px",top:"10px"},className:" input-group mb-3 ",children:[Object(i.jsx)("input",{className:" barre form-control",type:"text",autoComplete:"off",placeholder:"Chercher",ref:O,name:"search"}),Object(i.jsx)("div",{className:" input-group-append",children:Object(i.jsx)("button",{className:" barre btn btn-info",type:"submit",children:" Recherche"})})]})})})}),Object(i.jsx)(l.b,{to:"/Affichage",children:Object(i.jsx)("button",{className:"bouton",children:"Affichage"})}),Object(i.jsx)(l.b,{to:"/AjoutProcedure",children:Object(i.jsx)("button",{className:"bouton2",children:"Ajouter une proc\xe9dure"})}),Object(i.jsx)(l.b,{to:"/ajoutFonction",children:Object(i.jsx)("button",{className:"bouton3",children:"Ajouter une fonction"})})]}),Object(i.jsx)("div",{children:0==b.length&&Object(i.jsx)("div",{className:"body-image"})}),Object(i.jsxs)("div",{style:{marginTop:"20px"},className:"container",children:[b.length>0&&b[0].table_name&&Object(i.jsxs)("table",{className:"table table-bordered ",children:[Object(i.jsx)("thead",{children:Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{children:"Nom de la base de donn\xe9es"}),Object(i.jsx)("th",{children:"Nom de la table"}),Object(i.jsx)("th",{children:"Description de la table"}),Object(i.jsx)("th",{children:"Nom de la colonne "}),Object(i.jsx)("th",{children:"Type de la colonne"})]})}),b.map((function(e){return Object(i.jsx)("tbody",{children:Object(i.jsxs)("tr",{children:[Object(i.jsx)("td",{children:e.database_name}),Object(i.jsx)("td",{children:e.table_name}),Object(i.jsx)("td",{children:e.table_description}),Object(i.jsx)("td",{children:e.column_name}),Object(i.jsx)("td",{children:e.column_type})]})})}))]}),b.length>0&&b[0].valeur&&Object(i.jsxs)("table",{className:"table table-bordered ",children:[Object(i.jsx)("thead",{children:Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{children:"S\xe9ance"}),Object(i.jsx)("th",{children:"Nom de l'entreprise"}),Object(i.jsx)("th",{children:"Valeur du cours"}),Object(i.jsx)("th",{children:"Valeur du volume"})]})}),b.map((function(e){return Object(i.jsx)("tbody",{children:Object(i.jsxs)("tr",{children:[Object(i.jsxs)("td",{children:[e.seance_vf," "]}),Object(i.jsx)("td",{children:e.valeur}),Object(i.jsxs)("td",{children:[e.cours_cloture," "]}),Object(i.jsxs)("td",{children:[e.volume," "]})]})})}))]})]})]}),"user"==c.role&&Object(i.jsx)("div",{className:"body-image"})]})}function ne(){var e=Object(n.useContext)(j),t=Object(o.a)(e,2),c=t[0],a=t[1],r=Object(x.g)();return Object(n.useEffect)((function(){c.isLoggedIn||(localStorage.getItem("token")?N(a).get("/IsConnected/").then((function(e){a(e.data)})).catch((function(e){return console.log(e)})):r.push("/Home"))}),[c]),Object(i.jsx)("div",{children:Object(i.jsxs)(x.d,{children:[Object(i.jsx)(x.b,{path:"/Home",exact:!0,component:te}),Object(i.jsx)(x.b,{path:"/Login",exact:!0,component:f}),Object(i.jsx)(x.b,{path:"/",exact:!0,component:ce}),Object(i.jsx)(x.b,{path:"/Affichage",exact:!0,component:q}),Object(i.jsx)(G,{path:"/AjoutProcedure",exact:!0,component:J,role:["admin"]}),Object(i.jsx)(G,{path:"/AjoutFonction",exact:!0,component:X,role:["admin"]}),Object(i.jsx)(G,{path:"/Lister_utilisateurs",exact:!0,component:H,role:["admin"]}),Object(i.jsx)(G,{path:"/Utilisateurs",exact:!0,component:S,role:["admin"]}),Object(i.jsx)(G,{path:"/Utilisateurs/:id",exact:!0,component:S,role:["admin"]}),Object(i.jsx)(G,{path:"/Details_procedure/:name/:baseDD",exact:!0,component:A,role:["admin"]}),Object(i.jsx)(G,{path:"/Details_fonction/:name/:baseDD",exact:!0,component:Q,role:["admin"]}),Object(i.jsx)(G,{path:"/Interface_utilisateur/:proc",exact:!0,component:B,role:["user"]}),Object(i.jsx)(G,{path:"/Interface_utilisateur2/:fct",exact:!0,component:K,role:["user"]}),Object(i.jsx)(G,{path:"/GrapheParametres/:proc",exact:!0,component:U,role:["admin"]}),Object(i.jsx)(G,{path:"/GrapheParametresFct/:fct",exact:!0,component:z,role:["admin"]})]})})}function ae(){return Object(i.jsx)("div",{children:Object(i.jsxs)(l.a,{children:[Object(i.jsx)(u,{}),Object(i.jsx)(ne,{})]})})}c(430);s.a.render(Object(i.jsx)(a.a.StrictMode,{children:Object(i.jsx)(b,{children:Object(i.jsx)(ae,{})})}),document.getElementById("root"))},60:function(e,t,c){}},[[432,1,2]]]);
//# sourceMappingURL=main.72464f5a.chunk.js.map