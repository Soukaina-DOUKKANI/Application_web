(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{191:function(e,t){},235:function(e,t){},237:function(e,t){},248:function(e,t){},250:function(e,t){},277:function(e,t){},279:function(e,t){},280:function(e,t){},285:function(e,t){},287:function(e,t){},306:function(e,t){},31:function(e,t,c){},318:function(e,t){},321:function(e,t){},408:function(e,t){},409:function(e,t){},422:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),r=c(36),s=c.n(r),o=c(12),l=c(2),i=(c(22),c(0)),j=Object(n.createContext)(),u=function(e){var t=Object(n.useState)({isLoggedIn:!1,role:""}),c=Object(l.a)(t,2),a=c[0],r=c[1];return Object(i.jsx)(j.Provider,{value:[a,r],children:e.children})};function b(){var e=Object(n.useContext)(j),t=Object(l.a)(e,2),c=t[0];t[1];return c.isLoggedIn?Object(i.jsx)("div",{className:" footer fixed-bottom bg-dark text-center",children:Object(i.jsx)("p",{style:{color:"white"},children:" 2021 \xa9 "})}):null}var d=c(428);function h(){var e=Object(n.useContext)(j),t=Object(l.a)(e,2),c=t[0],a=t[1],r=function(){localStorage.removeItem("token"),a({isLoggedIn:!1,role:""})};return c.isLoggedIn?"admin"==c.role?Object(i.jsxs)("nav",{className:"navbar  navbar-expand-lg bg-dark navbar-dark",children:[Object(i.jsx)(o.b,{to:"/",class:"navbar-brand",children:"LOGO"}),Object(i.jsx)("button",{class:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(i.jsx)("span",{class:"navbar-toggler-icon"})}),Object(i.jsx)("div",{class:"collapse navbar-collapse",id:"navbarSupportedContent",children:Object(i.jsxs)("ul",{className:"navbar-nav  ",children:[Object(i.jsx)("li",{className:"nav-item active",children:Object(i.jsx)(o.b,{to:"/",className:"nav-link",children:" Accueil"})}),Object(i.jsx)("li",{className:"nav-item active",children:Object(i.jsx)(o.b,{to:"/Lister_utilisateurs",className:"nav-link",children:" Utilisateurs"})}),Object(i.jsxs)(d.a,{title:"Ajouter",id:"basic-nav-dropdown",children:[Object(i.jsxs)(d.a.Item,{children:[" ",Object(i.jsx)(o.b,{to:"/AjoutProcedure",children:"Ajouter une proc\xe9dure"})]}),Object(i.jsx)(d.a.Item,{children:Object(i.jsx)(o.b,{to:"/AjoutFonction",children:"Ajouter une fonction"})})]}),Object(i.jsx)("li",{className:"nav-item active",children:Object(i.jsx)(o.b,{to:"/Login",onClick:r,className:"nav-link",children:" D\xe9connexion"})})]})})]}):Object(i.jsx)("nav",{className:"navbar navbar-expand-sm bg-dark navbar-dark",children:Object(i.jsxs)("ul",{className:"navbar-nav  ",children:[Object(i.jsx)("li",{className:"nav-item active",children:Object(i.jsx)(o.b,{to:"/",className:"nav-link",children:" Accueil"})}),Object(i.jsx)("li",{children:Object(i.jsx)(o.b,{to:"/Login",onClick:r,className:"nav-link",children:" D\xe9connexion"})})]})}):null}var O=c(13),p=c(55),x=c.n(p),m=c(15);function f(){var e=Object(O.b)(),t=e.handleSubmit,c=e.register,a=Object(n.useContext)(j),r=Object(l.a)(a,2),s=(r[0],r[1]),o=Object(m.g)();x.a.defaults.withCredentials=!0;return Object(i.jsxs)("div",{className:"container",children:[Object(i.jsx)("h1",{children:" Connexion"}),Object(i.jsx)("form",{onSubmit:t((function(e){x.a.post("http://localhost:4000/connexion/",e).then((function(e){e.data.auth&&(localStorage.setItem("token",e.data.token),s({isLoggedIn:!0,role:e.data.response.role}),o.push("/"))}))})),children:Object(i.jsxs)("div",{className:"form-group",class:"col-md-6",children:[Object(i.jsxs)("div",{children:[Object(i.jsx)("label",{for:"id",children:"Identifiant"}),Object(i.jsx)("input",{id:"id",class:"form-control",autoComplete:"off",placeholder:"Saisir un identifiant",name:"identifiant",type:"text",ref:c({required:!0})})]}),Object(i.jsxs)("div",{className:"form-group",children:[Object(i.jsx)("label",{for:"pwd",children:"Mot de passe"}),Object(i.jsx)("input",{class:"form-control",autoComplete:"off",placeholder:"Saisir un mot de passe",name:"pwd",type:"password",ref:c({required:!0})})]}),Object(i.jsx)("div",{children:Object(i.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Connexion"})})]})})]})}var v=c(24),g=c(25),y=function(e){var t=x.a.create({baseURL:"localhost:3000/"});return t.interceptors.request.use((function(e){var t=localStorage.getItem("token");return e.headers.Authorization=t,e})),t.interceptors.response.use((function(e){return new Promise((function(t,c){t(e)}))}),(function(t){return t.response&&403===t.response.status?(localStorage.removeItem("token"),e&&e({isLoggedIn:!1,role:""}),new Promise((function(e,c){c(t)}))):new Promise((function(e,c){c(t)}))})),t},N=c(196),C=c.n(N);function E(e){var t=e.match,c=Object(n.useState)(!1),a=Object(l.a)(c,2),r=a[0],s=a[1],o=Object(n.useState)({id:0,utilisateur:"",identifiant:"",pwd:"",procedures:[],fonctions:[]}),u=Object(l.a)(o,2),b=u[0],d=u[1],h=Object(O.b)(),p=h.register,x=h.handleSubmit,f=Object(n.useContext)(j),N=Object(l.a)(f,2),E=(N[0],N[1]),S=Object(n.useState)([]),_=Object(l.a)(S,2),A=_[0],D=_[1],k=Object(m.g)(),P=Object(n.useState)([]),T=Object(l.a)(P,2),L=T[0],M=T[1];Object(n.useEffect)((function(){y(E).get("http://localhost:4000/List_procedures").then((function(e){return D(e.data)})).catch((function(e){return console.log(e)}))}),[]),Object(n.useEffect)((function(){y(E).get("http://localhost:4000/List_fonctions").then((function(e){M(e.data),console.log(e)})).catch((function(e){return console.log(e)}))}),[]),Object(n.useEffect)((function(){var e=t.params.id;e&&y(E).get("http://localhost:4000/get_user/".concat(e)).then((function(e){var t={id:e.data.ID,utilisateur:e.data.nom_utilisateur,identifiant:e.data.identifiant,pwd:e.data.pwd,procedures:JSON.parse(e.data.procedures),fonctions:JSON.parse(e.data.fonctions)};d(t)})).catch((function(e){return console.log(e)}))}),[]);var w=function(e){var t=e.target,c=t.name,n=t.value;d((function(e){return Object(g.a)(Object(g.a)({},e),{},Object(v.a)({},c,n))}))};return Object(i.jsxs)("div",{className:"container",children:[Object(i.jsx)("h2",{children:" Gestion des comptes Utilisateurs"}),Object(i.jsxs)("form",{onSubmit:x((function(e){console.log(e),y(E).post("http://localhost:4000/users",e).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)})),k.push("/Lister_utilisateurs")})),children:[Object(i.jsxs)("div",{className:"form-group",class:"col-md-6",children:[Object(i.jsx)("input",{type:"hidden",name:"id",value:b.id,ref:p}),Object(i.jsxs)("div",{children:[Object(i.jsx)("label",{for:"utilisateur",children:"Nom utilisateur"}),Object(i.jsx)("input",{class:"form-control",onChange:w,value:b.utilisateur,id:"utilisateur",name:"utilisateur",type:"text",autoComplete:"off",ref:p({required:!0})})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("label",{for:"identifiant",children:" Cr\xe9er un identifiant"}),Object(i.jsx)("input",{class:"form-control",onChange:w,onBlur:function(e){var t=e.target.value;if(""!=t){var c=b.id;y(E).get("http://localhost:4000/checkIdentifiant/".concat(t,"/").concat(c)).then((function(e){"abort"==e.data?(d((function(e){return Object(g.a)(Object(g.a)({},e),{},{identifiant:""})})),s(!0)):s(!1)})).catch((function(e){return console.log(e)}))}},value:b.identifiant,id:"identifiant",name:"identifiant",type:"text",autoComplete:"off",ref:p({required:!0})})]}),r&&Object(i.jsx)("div",{class:"alert alert-danger",role:"alert",children:"Identifiant d\xe9j\xe0 existant!"}),Object(i.jsx)("label",{for:"pwd",children:" Cr\xe9er un mot de passe"}),Object(i.jsxs)("div",{className:"input-group mb-3",children:[Object(i.jsx)("input",{autoComplete:"off",class:"form-control",onChange:w,value:b.pwd,name:"pwd",id:"pwd",ref:p({required:!0})}),Object(i.jsx)("div",{className:"input-group-append",children:Object(i.jsx)("button",{className:"btn btn-outline-secondary",type:"button",onClick:function(e){e.preventDefault(),d((function(e){return Object(g.a)(Object(g.a)({},e),{},{pwd:C.a.generate({length:20,numbers:!0,lowercase:!0,uppercase:!0})})}))},children:" G\xe9n\xe9rer"})})]}),Object(i.jsx)("label",{children:"Liste des proc\xe9dures "}),Object(i.jsx)("div",{className:"input-group mb-3",children:Object(i.jsx)("select",{multiple:!0,name:"procedures",onChange:function(e){var t=e.target,c=t.name,n=Array.from(t.selectedOptions,(function(e){return e.value}));d((function(e){return Object(g.a)(Object(g.a)({},e),{},Object(v.a)({},c,n))}))},value:b.procedures,ref:p,children:A.map((function(e){return Object(i.jsx)("option",{value:e.P,children:e.P})}))})}),Object(i.jsx)("label",{children:"Liste des fonctions"}),Object(i.jsx)("div",{className:"input-group mb-3",children:Object(i.jsx)("select",{multiple:!0,name:"fonctions",onChange:function(e){var t=e.target,c=t.name,n=Array.from(t.selectedOptions,(function(e){return e.value}));d((function(e){return Object(g.a)(Object(g.a)({},e),{},Object(v.a)({},c,n))}))},value:b.fonctions,ref:p,children:L.map((function(e){return Object(i.jsx)("option",{value:e.F,children:e.F})}))})})]}),Object(i.jsx)("button",{onClick:function(){return alert("Modifications enregistr\xe9es")},type:"submit",class:"btn btn-primary",children:"Enregistrer "})]})]})}c(31);function S(e){var t=e.match,c=Object(O.b)(),a=c.register,r=c.handleSubmit,s=Object(n.useState)({parameters:[]}),u=Object(l.a)(s,2),b=u[0],d=u[1],h=Object(n.useContext)(j),p=Object(l.a)(h,2),x=(p[0],p[1]);Object(n.useEffect)((function(){y(x).get("http://localhost:4000/page1/".concat(t.params.name,"/").concat(t.params.baseDD)).then((function(e){return d(e.data)})).catch((function(e){return console.log(e)}))}),[]);return Object(i.jsx)("div",{className:"container-fluid",children:Object(i.jsxs)("div",{className:"row",children:[Object(i.jsxs)("h2",{className:"h2",children:[" La proc\xe9dure ",b.SP_NAME," "]}),Object(i.jsxs)("form",{className:"container-fluid",onSubmit:r((function(e){y(x).post("http://localhost:4000/set_data/".concat(t.params.name,"/").concat(t.params.baseDD),e).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)})),console.log(JSON.stringify(e))})),children:[Object(i.jsx)("table",{className:"table table-striped",children:Object(i.jsxs)("tbody",{children:[Object(i.jsxs)("tr",{children:[Object(i.jsx)("input",{type:"hidden",value:t.params.baseDD,name:"bdd",ref:a}),Object(i.jsx)("th",{children:"NOM DE LA PROCEDURE"}),Object(i.jsx)("td",{children:Object(i.jsx)("input",{name:"procedure",autoComplete:"off",type:"text",placeholder:"Renommer",ref:a})})]}),Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{children:"NOM DE LA BDD"}),Object(i.jsx)("td",{children:b.DATABASE})]}),Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{children:"SCHEMA"}),Object(i.jsx)("td",{children:b.SCHEMA})]}),Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{children:"DESCRIPTION"}),Object(i.jsx)("td",{children:Object(i.jsx)("textarea",{className:"form-control",name:"description",autoComplete:"off",type:"text",placeholder:"Ajouter une description",ref:a})})]}),Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{children:"NOM DE L'AUTEUR"}),Object(i.jsx)("td",{children:b.Author_name})]}),Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{children:"DATE DE CREATION"}),Object(i.jsx)("td",{children:b.CREATE_DATE})]}),Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{children:"DATE DE MODIFICATION"}),Object(i.jsx)("td",{children:b.MODIFY_DATE})]}),Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{children:"PARAMETRES"}),Object(i.jsx)("td",{children:b.parameters.map((function(e){return"date"===e.DATA_TYPE?Object(i.jsxs)("p",{children:[Object(i.jsx)("span",{className:"span",children:e.PARAMETER_NAME}),Object(i.jsx)("span",{className:"span",children:Object(i.jsx)("input",{name:e.PARAMETER_NAME,autoComplete:"off",type:"text",placeholder:"Renommer",ref:a})})]}):Object(i.jsxs)("div",{children:[Object(i.jsx)("span",{className:"span",children:e.PARAMETER_NAME}),Object(i.jsx)("span",{className:"span",children:Object(i.jsx)("input",{className:" input",autoComplete:"off",name:e.PARAMETER_NAME,type:"text",placeholder:"Renommer",ref:a})}),Object(i.jsx)("p",{className:"p",children:Object(i.jsx)("input",{autoComplete:"OFF",placeholder:"ins\xe9rer une valeur",name:"valeur",type:"text",ref:a})}),"OU",Object(i.jsx)("p",{className:"p",children:Object(i.jsx)("textarea",{className:" textarea",autoComplete:"off",placeholder:" ins\xe9rer une requ\xeate",name:"request",type:"text",ref:a})})]})}))})]})]})}),Object(i.jsxs)("div",{className:"div",children:[Object(i.jsx)("button",{onClick:function(){return alert("Op\xe9ration r\xe9ussie")},className:"button",type:"submit",children:" Enregistrer"}),Object(i.jsx)(o.b,{to:"/GrapheParametres/".concat(b.SP_NAME," "),children:Object(i.jsx)("button",{className:"button2",children:" Param\xe9trer le graphe"})})]})]})]})})}var _=c(197),A=c.n(_);c(324);function D(e){var t=e.type,c=e.valeur,a=e.bdd,r=e.requete,s=e.register,o=e.control,u=e.setValue,b="@date_in"==t.toLowerCase(),d=""!==c,h=Object(n.useState)([]),p=Object(l.a)(h,2),x=p[0],m=p[1],f=Object(n.useState)(null),v=Object(l.a)(f,2),g=v[0],N=v[1],C=Object(n.useContext)(j),E=Object(l.a)(C,2),S=(E[0],E[1]);Object(n.useEffect)((function(){b||d||y(S).get("http://localhost:4000/Get_options/".concat(r,"/").concat(a)).then((function(e){return m(e.data)})).catch((function(e){return console.log(e)}))}),[]);var _=function(e){u(t,e,{shouldDirty:!0}),N(e)};return b?Object(i.jsx)("div",{children:Object(i.jsx)(O.a,{control:o,name:t,defaultValue:g,render:function(){return Object(i.jsx)(A.a,{selected:g,onChange:_,dateFormat:"dd/MM/yyyy",showYearDropdown:!0,scrollableMonthYearDropdown:!0,isClearable:!0})}})}):d?Object(i.jsx)("input",{value:c,name:t,ref:s}):Object(i.jsx)("div",{children:Object(i.jsx)("select",{name:t,ref:s,children:x.map((function(e){return Object(i.jsx)("option",{value:e.Valeur,children:e.Valeur})}))})})}var k=c(69),P=c.n(k),T=c(44),L=c.n(T);c(66);function M(e){var t=e.data,c=e.procedure,a=Object(n.useContext)(j),r=Object(l.a)(a,2),s=(r[0],r[1]),o=Object(n.useState)([]),u=Object(l.a)(o,2),b=u[0],d=u[1];Object(n.useEffect)((function(){y(s).get("http://localhost:4000/getGraph/".concat(c)).then((function(e){d(e.data),console.log(e)})).catch((function(e){return console.log(e)}))}),[]),console.log(b);var h={},O={columns:[]},p={},x="",m={};return Object(n.useEffect)((function(){var e=function(e){var t=[];return Object.keys(e).map((function(e){var c=e.split("_")[0];t.find((function(e){return e==c}))||t.push(c)})),t}(b),c=-1;e.map((function(e){"title"==e&&(x=b[e]),b[e+"_visible"]&&(c++,"seance"===e.toLowerCase()?(O.columns[c]=["x"],O.x="x",p.x={type:"timeseries",tick:{format:function(e){return L()(e).format("DD/MM/yyyy")}}}):O.columns[c]=[e],t.map((function(t){"seance"===e.toLowerCase()?O.columns[c].push(L()(t[e]).format("YYYY-MM-DD")):O.columns[c].push(t[e])})),"y"==b[e+"_axe"]&&(h[e]=b[e+"_chart"],p.y={label:{text:b[e+"_label"],position:"outer-middle"}}),"y2"==b[e+"_axe"]&&(m[e]=b[e+"_axe"],h[e]=b[e+"_chart"],p.y2={show:!0,label:{text:b[e+"_label"],position:"outer-middle"}}))})),O.types=h,O.axes=m,P.a.generate({bindto:"#chart",data:O,title:{text:x},axis:p})}),[t]),t.length?Object(i.jsx)("div",{id:"chart"}):null}var w=c(200),I=c(107),R=function(e){var t=e.apiData,c=e.fileName;return Object(i.jsx)("button",{onClick:function(e){return function(e,t){var c={Sheets:{data:I.utils.json_to_sheet(e)},SheetNames:["data"]},n=I.write(c,{bookType:"xlsx",type:"array"}),a=new Blob([n],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});w.saveAs(a,t+".xlsx")}(t,c)},children:"Exporter les donn\xe9es Excel"})};function F(e){var t=e.match,c=Object(n.useState)({}),a=Object(l.a)(c,2),r=a[0],s=a[1],o=Object(n.useState)([]),u=Object(l.a)(o,2),b=u[0],d=u[1],h=Object(O.b)(),p=h.control,x=h.setValue,m=h.register,f=h.handleSubmit,v=Object(n.useContext)(j),g=Object(l.a)(v,2),N=(g[0],g[1]);Object(n.useEffect)((function(){y(N).get("http://localhost:4000/Get_values/".concat(t.params.proc)).then((function(e){return s(e.data)})).catch((function(e){return console.log(e)}))}),[]);return Object(i.jsxs)("div",{className:"container",children:[Object(i.jsx)("form",{onSubmit:f((function(e){y(N).post("http://localhost:4000/set_procedure",e).then((function(e){return d(e.data)})).catch((function(e){return console.log(e)}))})),children:Object(i.jsx)("table",{className:"table table-light",children:Object(i.jsxs)("tbody",{children:[Object.keys(r).map((function(e){return"bdd"==e?Object(i.jsx)("input",{type:"hidden",name:"bdd",value:r[e],ref:m}):"procedure"==e?Object(i.jsxs)("div",{children:[Object(i.jsxs)("h2",{children:[" ",r[e],"  "]}),Object(i.jsx)("input",{type:"hidden",value:t.params.proc,name:"nameProc",ref:m})]}):"description"==e?Object(i.jsxs)("tr",{className:"row",children:[Object(i.jsx)("th",{children:"Description"}),Object(i.jsxs)("td",{children:[r[e]," "]})]}):"@"==e.charAt(0)?Object(i.jsxs)("tr",{className:"row",children:[Object(i.jsxs)("th",{style:{marginLeft:"15px",marginRight:"10px"},children:[r[e]," "]}),Object(i.jsxs)("td",{children:[" ",Object(i.jsx)(D,{type:e,valeur:r.valeur,requete:r.request,register:m,setValue:x,control:p})," "]})]}):void 0})),Object(i.jsx)("div",{className:"div",children:Object(i.jsx)("button",{className:"button",type:"submit",children:" Executer"})})]})})}),Object(i.jsx)("div",{className:"container",style:{"margin-top":"30px "},children:Object(i.jsx)(M,{data:b,procedure:t.params.proc})}),Object(i.jsx)("div",{children:b.length>0&&Object(i.jsx)(R,{apiData:b,fileName:"Data"})})]})}c(410);function q(){var e=Object(n.useContext)(j),t=Object(l.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(!1),s=Object(l.a)(r,2),u=s[0],b=s[1],d=Object(n.useState)([]),h=Object(l.a)(d,2),p=h[0],x=h[1],m=Object(n.useState)(""),f=Object(l.a)(m,2),v=f[0],g=f[1],N=Object(n.useState)(!1),C=Object(l.a)(N,2),E=C[0],S=C[1],_=Object(n.useState)(!1),A=Object(l.a)(_,2),D=A[0],k=A[1],P=Object(n.useState)([]),T=Object(l.a)(P,2),L=T[0],M=T[1],w=Object(n.useState)([]),I=Object(l.a)(w,2),R=I[0],F=I[1],q=Object(n.useState)([]),B=Object(l.a)(q,2),G=B[0],U=B[1],V=Object(n.useState)("BDD"),Y=Object(l.a)(V,2),J=Y[0],H=Y[1],X=Object(O.b)(),Q=X.handleSubmit,z=X.register,K=Object(n.useState)([]),W=Object(l.a)(K,2),Z=W[0],$=W[1],ee=Object(n.useState)(""),te=Object(l.a)(ee,2),ce=(te[0],te[1],Object(n.useState)([])),ne=Object(l.a)(ce,2);ne[0],ne[1];Object(n.useEffect)((function(){y(a).get("http://localhost:4000/BDD").then((function(e){return U(e.data)})).catch((function(e){return console.log(e)}))}),[]),Object(n.useEffect)((function(){y(a).get("http://localhost:4000/appFonction/".concat(J)).then((function(e){M(e.data)})).catch((function(e){return console.log(e)}))}),[J]),Object(n.useEffect)((function(){y(a).get("http://localhost:4000/appProcedure/".concat(J)).then((function(e){x(e.data)})).catch((function(e){return console.log(e)}))}),[J]),Object(n.useEffect)((function(){y(a).get("http://localhost:4000/allData/".concat(J)).then((function(e){F(e.data)})).catch((function(e){return console.log(e)}))}),[J]);var ae=function(e){g(e),b(!1)};return Object(i.jsxs)("div",{className:"container flex-column pas-rel",children:["admin"==c.role&&Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{style:{marginTop:"20px"},className:"container col-md-6",children:Object(i.jsx)("form",{onSubmit:Q((function(e){y(a).post("http://localhost:4000/search",e).then((function(e){$(e.data),console.log(e.data)})).catch((function(e){return console.log(e)}))})),children:Object(i.jsxs)("div",{className:"container input-group mb-3",children:[Object(i.jsx)("input",{className:"form-control",type:"text",autoComplete:"off",placeholder:"search bar",ref:z,name:"search"}),Object(i.jsx)("div",{className:"input-group-append",children:Object(i.jsx)("button",{className:"btn btn-outline-secondary",type:"submit",children:"Rechercher"})})]})})}),Object(i.jsxs)("div",{styles:{marginTop:"10px"},className:"container",children:[Z.length>0&&Z[0].table_name&&Object(i.jsxs)("table",{class:"table table-bordered ",children:[Object(i.jsx)("thead",{children:Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{children:"database_name"}),Object(i.jsx)("th",{children:"table_name"}),Object(i.jsx)("th",{children:"table_Description"}),Object(i.jsx)("th",{children:"column_name"}),Object(i.jsx)("th",{children:"column_type"})]})}),Z.map((function(e){return Object(i.jsx)("tbody",{children:Object(i.jsxs)("tr",{children:[Object(i.jsx)("td",{children:e.database_name}),Object(i.jsx)("td",{children:e.table_name}),Object(i.jsx)("td",{children:e.table_description}),Object(i.jsx)("td",{children:e.column_name}),Object(i.jsx)("td",{children:e.column_type})]})})}))]}),Z.length>0&&Z[0].valeur&&Object(i.jsxs)("table",{class:"table table-bordered ",children:[Object(i.jsx)("thead",{children:Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{children:"Nom_entreprise"}),Object(i.jsx)("th",{children:"Secteur d'activit\xe9"}),Object(i.jsx)("th",{children:"Domaine"}),Object(i.jsx)("th",{children:"Description"})]})}),Z.map((function(e){return Object(i.jsx)("tbody",{children:Object(i.jsxs)("tr",{children:[Object(i.jsx)("td",{children:e.valeur}),Object(i.jsx)("td",{children:e.secteur_activite}),Object(i.jsx)("td",{children:e.gics_sector_fr}),Object(i.jsx)("td",{children:e.description})]})})}))]})]}),Object(i.jsxs)("div",{style:{marginTop:"20px"},className:" form-group",children:[Object(i.jsx)("label",{style:{marginRight:"15PX"},for:"bdd",children:"Base de donn\xe9es  "}),Object(i.jsx)("select",{name:"bdd",onChange:function(e){H(e.target.value)},children:G.map((function(e){return Object(i.jsx)("option",{value:e.bdd,children:e.bdd})}))})]})]}),Object(i.jsxs)("div",{style:{width:"300px",marginTop:"20px"},children:[Object(i.jsxs)("p",{children:[Object(i.jsx)("input",{type:"checkbox",name:"procedure",value:D,onChange:function(e){k(e.target.checked)}}),"  Proc\xe9dures"]}),Object(i.jsxs)("p",{children:[Object(i.jsx)("input",{type:"checkbox",name:"fonction",value:E,onChange:function(e){S(e.target.checked)}}),"  Fonctions"]}),Object(i.jsx)("div",{children:D&&!E&&Object(i.jsxs)("div",{children:[Object(i.jsx)("input",{style:{width:"100%"},id:"auto",type:"text",placeholder:"chercher une proc\xe9dure.....",onClick:function(){return b(!u)},value:v,onChange:function(e){return g(e.target.value)}}),u&&Object(i.jsx)("div",{className:"list-group",children:p.filter((function(e){return e.P.toLowerCase().indexOf(v.toLowerCase())>-1})).map((function(e){return"admin"==c.role?Object(i.jsx)("div",{onClick:function(){return ae(e.P)},children:Object(i.jsxs)(o.b,{to:"/Details_procedure/".concat(e.P,"/").concat(J),className:"list-group-item  list-group-item-action list-group-item-light ",style:{color:"black"},children:[" ",e.P]})}):Object(i.jsx)("div",{onClick:function(){return ae(e.P)},children:Object(i.jsxs)(o.b,{to:"/Interface_utilisateur/".concat(e.P),className:"list-group-item  list-group-item-action list-group-item-light ",style:{color:"black"},children:[" ",e.P]})})}))})]})}),Object(i.jsx)("div",{children:E&&!D&&Object(i.jsxs)("div",{children:[Object(i.jsx)("input",{style:{width:"100%"},id:"auto",type:"text",placeholder:"chercher une fonction.....",onClick:function(){return b(!u)},value:v,onChange:function(e){return g(e.target.value)}}),u&&Object(i.jsx)("div",{className:"list-group",children:L.filter((function(e){return e.F.toLowerCase().indexOf(v.toLowerCase())>-1})).map((function(e){return"admin"==c.role?Object(i.jsx)("div",{onClick:function(){return ae(e.F)},children:Object(i.jsxs)(o.b,{to:"/Details_fonction/".concat(e.F,"/").concat(J),className:"list-group-item  list-group-item-action list-group-item-light ",style:{color:"black"},children:[" ",e.F]})}):Object(i.jsx)("div",{onClick:function(){return ae(e.F)},children:Object(i.jsxs)(o.b,{to:"/Interface_utilisateur2/".concat(e.F),className:"list-group-item  list-group-item-action list-group-item-light ",style:{color:"black"},children:[" ",e.F]})})}))})]})}),Object(i.jsx)("div",{children:E&&D&&Object(i.jsxs)("div",{children:[Object(i.jsx)("input",{style:{width:"100%"},id:"auto",type:"text",placeholder:"chercher.....",onClick:function(){return b(!u)},value:v,onChange:function(e){return g(e.target.value)}}),u&&Object(i.jsx)("div",{children:Object(i.jsx)("div",{className:"list-group",children:R.map((function(e){return e.P?"admin"==c.role?Object(i.jsx)("div",{children:Object(i.jsx)("div",{onClick:function(){return ae(e.P)},children:Object(i.jsxs)(o.b,{to:"/Details_procedure/".concat(e.P,"/").concat(J),className:"list-group-item  list-group-item-action list-group-item-light ",style:{color:"black"},children:[" ",e.P]})})}):Object(i.jsx)("div",{onClick:function(){return ae(e.P)},children:Object(i.jsxs)(o.b,{to:"/Interface_utilisateur/".concat(e.P),className:"list-group-item  list-group-item-action list-group-item-light ",style:{color:"black"},children:[" ",e.P]})}):"admin"==c.role?Object(i.jsx)("div",{onClick:function(){return ae(e.F)},children:Object(i.jsxs)(o.b,{to:"/Details_fonction/".concat(e.F,"/").concat(J),className:"list-group-item  list-group-item-action list-group-item-light ",style:{color:"black"},children:[" ",e.F]})}):Object(i.jsx)("div",{onClick:function(){return ae(e.F)},children:Object(i.jsxs)(o.b,{to:"/Interface_utilisateur2/".concat(e.F),className:"list-group-item  list-group-item-action list-group-item-light ",style:{color:"black"},children:[" ",e.F]})})}))})})]})})]})]})}var B=c(201);function G(e){var t=Object(n.useContext)(j),c=Object(l.a)(t,2),a=c[0];c[1];return!!a.isLoggedIn&&(a.role==e||void 0)}function U(e){var t=e.component,c=e.role,n=Object(B.a)(e,["component","role"]);return Object(i.jsxs)(i.Fragment,{children:[G(c)&&Object(i.jsx)(m.b,Object(g.a)(Object(g.a)({},n),{},{render:function(e){return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)(t,Object(g.a)({},e))})}})),!G(c)&&Object(i.jsx)(m.b,{render:function(){return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)(m.a,{to:"/"})})}})]})}function V(e){var t=e.match,c=Object(n.useContext)(j),a=Object(l.a)(c,2),r=(a[0],a[1]),s=Object(O.b)(),o=s.control,u=s.setValue,b=s.register,d=s.handleSubmit,h=Object(O.b)(),p=h.register,x=h.handleSubmit,m=Object(n.useState)({}),f=Object(l.a)(m,2),v=f[0],g=f[1],N=Object(n.useState)([]),C=Object(l.a)(N,2),E=C[0],S=C[1],_=Object(n.useState)({}),A=Object(l.a)(_,2),k=(A[0],A[1]),P=Object(n.useState)([]),T=Object(l.a)(P,2),L=(T[0],T[1]);Object(n.useEffect)((function(){y(r).get("http://localhost:4000/BDD").then((function(e){return L(e.data)})).catch((function(e){return console.log(e)}))}),[]);Object(n.useEffect)((function(){y(r).get("http://localhost:4000/Get_values/".concat(t.params.proc)).then((function(e){return g(e.data)})).catch((function(e){return console.log(e)}))}),[]);var M=[{value:"null",label:"null"},{value:"line",label:"Line chart"},{value:"bar",label:"Bar chart"},{value:"timeseries ",label:"Timeseries Chart"},{value:"spline",label:"Spline Chart"},{value:"area-spline",label:" area Spline Chart"},{value:"step",label:"Area Chart"},{value:"area-step",label:"Area Step Chart"},{value:"scatter ",label:"Scatter Plot"},{value:"pie",label:"Pie Chart"},{value:"donut",label:"Donut Chart"}],w=[{value:"null",label:"null"},{value:"x",label:"x"},{value:"y",label:"y"},{value:"y2",label:"y2"}];return console.log("result",E[0]),console.log("data",v),Object(i.jsxs)("div",{className:"container",children:[Object(i.jsx)("form",{onSubmit:d((function(e){y(r).post("http://localhost:4000/set_procedure/",e).then((function(e){S(e.data)})).catch((function(e){return console.log(e)}))})),children:Object(i.jsxs)("div",{children:[Object.keys(v).map((function(e){return"procedure"==e?Object(i.jsxs)("div",{children:[Object(i.jsxs)("h2",{children:[" ",v[e],"  "]}),Object(i.jsx)("input",{type:"hidden",value:t.params.proc,name:"nameProc",ref:b})]}):"bdd"==e?Object(i.jsx)("input",{type:"hidden",value:v[e],name:"bdd",ref:b}):"@"==e.charAt(0)?Object(i.jsxs)("div",{className:"row",children:[Object(i.jsxs)("span",{style:{marginLeft:"15px",marginRight:"10px"},children:[v[e]," "]}),Object(i.jsx)(D,{type:e,bdd:v.bdd,valeur:v.valeur,requete:v.request,register:b,setValue:u,control:o})]}):void 0})),Object(i.jsx)("div",{className:"div",children:Object(i.jsx)("button",{className:"button",type:"submit",children:" Executer"})})]})},1),E.length>0&&Object(i.jsxs)("form",{onSubmit:x((function(e){y(r).post("http://localhost:4000/setGraph/".concat(t.params.proc),e).then((function(t){k(t.data),console.log(e),console.log(t)})).catch((function(e){return console.log(e)}))})),children:[Object(i.jsxs)("table",{style:{marginTop:"30px"},className:"table ",children:[Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{children:"Titre"}),Object(i.jsx)("td",{children:Object(i.jsx)("input",{name:"title",autoComplete:"off",placeholder:"Nom du graphe",ref:p})})]}),Object.keys(E[0]).map((function(e){return Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{children:e}),Object(i.jsxs)("td",{children:[Object(i.jsx)("input",{class:"form-check-input",type:"checkbox",name:e+"_visible",ref:p}),"Visible"]}),Object(i.jsx)("td",{children:Object(i.jsx)("input",{autoComplete:"off",placeholder:"Label",name:e+"_label",ref:p})}),Object(i.jsx)("td",{children:Object(i.jsx)("select",{name:e+"_chart",ref:p,children:M.map((function(e){return Object(i.jsx)("option",{value:e.value,children:e.value})}))})}),Object(i.jsx)("td",{children:Object(i.jsx)("select",{name:e+"_axe",ref:p,children:w.map((function(e){return Object(i.jsx)("option",{value:e.value,children:e.value})}))})})]})}))]}),Object(i.jsx)("div",{className:"div",children:Object(i.jsx)("button",{onClick:function(){return alert("Op\xe9ration r\xe9ussie")},className:"button",type:"submit",children:" Enregistrer"})})]},2)]})}function Y(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)([]),s=Object(l.a)(r,2),u=(s[0],s[1]),b=Object(n.useContext)(j),d=Object(l.a)(b,2),h=(d[0],d[1]);return Object(n.useEffect)((function(){y(h).get("http://localhost:4000/list_users").then((function(e){return a(e.data)})).catch((function(e){return console.log(e)}))}),[]),Object(n.useEffect)((function(){y(h).get("http://localhost:4000/List_procedures").then((function(e){return u(e.data)})).catch((function(e){return console.log(e)}))}),[]),Object(i.jsxs)("div",{style:{marginTop:"30px"},className:"container ",children:[Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)("h2",{children:"Membres"}),Object(i.jsx)(o.b,{to:"/Utilisateurs",children:Object(i.jsx)("button",{style:{marginLeft:"30px"},type:"button",class:"btn btn-info",children:" Ajouter un membre"})})]}),Object(i.jsxs)("table",{class:"table ",style:{marginTop:"30px"},children:[Object(i.jsx)("thead",{children:Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{children:"Nom utilisateur"}),Object(i.jsx)("th",{children:"Identifiant"}),Object(i.jsx)("th",{children:"Actions"})]})}),Object(i.jsx)("tbody",{children:c.map((function(e){return Object(i.jsxs)("tr",{children:[Object(i.jsx)("td",{children:e.nom_utilisateur}),Object(i.jsx)("td",{children:e.identifiant}),Object(i.jsx)("td",{children:Object(i.jsx)(o.b,{to:"/Utilisateurs/".concat(e.ID),children:Object(i.jsx)("button",{style:{marginLeft:"30px"},type:"button",class:"btn btn-info",children:"Editer"})})})]})}))})]})]})}function J(){var e=Object(O.b)(),t=e.register,c=e.handleSubmit,a=Object(n.useContext)(j),r=Object(l.a)(a,2),s=(r[0],r[1]),o=Object(n.useState)([]),u=Object(l.a)(o,2),b=u[0],d=u[1];Object(n.useEffect)((function(){y(s).get("http://localhost:4000/BDD").then((function(e){return d(e.data)})).catch((function(e){return console.log(e)}))}),[]);return Object(i.jsxs)("div",{className:"container",children:[Object(i.jsx)("h2",{style:{marginTop:"20px"},children:"Ajouter une proc\xe9dure stock\xe9e"}),Object(i.jsxs)("form",{onSubmit:c((function(e){y(s).post("http://localhost:4000/AjoutProcedure",e).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))})),children:[Object(i.jsxs)("div",{style:{marginTop:"20px"},class:"form-group",children:[Object(i.jsx)("label",{for:"nameproc",children:"Nom de la proc\xe9dure"}),Object(i.jsx)("input",{autoComplete:"off",type:"text",className:"form-control",id:"nameproc",name:"name",placeholder:"ins\xe9rer un nom",ref:t})]}),Object(i.jsxs)("div",{class:"form-group",children:[Object(i.jsx)("label",{style:{marginRight:"15PX"},for:"bdd",children:"Base de donn\xe9es  "}),Object(i.jsx)("select",{name:"bdd",ref:t,children:b.map((function(e){return Object(i.jsx)("option",{value:e.bdd,children:e.bdd})}))})]}),Object(i.jsxs)("div",{class:"form-group",children:[Object(i.jsx)("label",{for:"proc",children:"Proc\xe9dure stock\xe9e"}),Object(i.jsx)("textarea",{autoComplete:"off",type:"text",className:"form-control",id:"proc",name:"procedure",placeholder:"ins\xe9rer la requ\xeate SQL",ref:t})]}),Object(i.jsx)("button",{onClick:function(){return alert("Op\xe9ration r\xe9ussie")},type:"submit",className:"btn btn-primary",children:"Enregistrer"})]})]})}function H(e){var t=e.match,c=Object(O.b)(),a=c.register,r=c.handleSubmit,s=Object(n.useState)({parameters:[]}),u=Object(l.a)(s,2),b=u[0],d=u[1],h=Object(n.useContext)(j),p=Object(l.a)(h,2),x=(p[0],p[1]);Object(n.useEffect)((function(){y(x).get("http://localhost:4000/page_fct/".concat(t.params.name,"/").concat(t.params.baseDD)).then((function(e){return d(e.data)})).catch((function(e){return console.log(e)}))}),[]);return Object(i.jsx)("div",{className:"container-fluid",children:Object(i.jsxs)("div",{className:"row",children:[Object(i.jsxs)("h2",{className:"h2",children:[" La fonction ",b.SP_NAME," "]}),Object(i.jsxs)("form",{className:"container-fluid",onSubmit:r((function(e){y(x).post("http://localhost:4000/set_data_fct/".concat(t.params.name,"/").concat(t.params.baseDD),e).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)})),console.log(JSON.stringify(e))})),children:[Object(i.jsx)("table",{className:"table table-striped",children:Object(i.jsxs)("tbody",{children:[Object(i.jsxs)("tr",{children:[Object(i.jsx)("input",{type:"hidden",value:t.params.baseDD,name:"bdd",ref:a}),Object(i.jsx)("th",{children:"NOM DE LA FONCTION"}),Object(i.jsx)("td",{children:Object(i.jsx)("input",{name:"procedure",autoComplete:"off",type:"text",placeholder:"Renommer",ref:a})})]}),Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{children:"NOM DE LA BDD"}),Object(i.jsx)("td",{children:b.DATABASE})]}),Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{children:"SCHEMA"}),Object(i.jsx)("td",{children:b.SCHEMA})]}),Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{children:"DESCRIPTION"}),Object(i.jsx)("td",{children:Object(i.jsx)("textarea",{className:"form-control",name:"description",autoComplete:"off",type:"text",placeholder:"Ajouter une description",ref:a})})]}),Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{children:"NOM DE L'AUTEUR"}),Object(i.jsx)("td",{children:b.Author_name})]}),Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{children:"DATE DE CREATION"}),Object(i.jsx)("td",{children:b.CREATE_DATE})]}),Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{children:"DATE DE MODIFICATION"}),Object(i.jsx)("td",{children:b.MODIFY_DATE})]}),Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{children:"PARAMETRES"}),Object(i.jsx)("td",{children:b.parameters.map((function(e){return"date"===e.DATA_TYPE?Object(i.jsxs)("p",{children:[Object(i.jsx)("span",{className:"span",children:e.PARAMETER_NAME}),Object(i.jsx)("span",{className:"span",children:Object(i.jsx)("input",{name:e.PARAMETER_NAME,autoComplete:"off",type:"text",placeholder:"Renommer",ref:a})})]}):Object(i.jsxs)("div",{children:[Object(i.jsx)("span",{className:"span",children:e.PARAMETER_NAME}),Object(i.jsx)("span",{className:"span",children:Object(i.jsx)("input",{className:" input",autoComplete:"off",name:e.PARAMETER_NAME,type:"text",placeholder:"Renommer",ref:a})}),Object(i.jsx)("p",{className:"p",children:Object(i.jsx)("input",{autoComplete:"OFF",placeholder:"ins\xe9rer une valeur",name:"valeur",type:"text",ref:a})}),"OU",Object(i.jsx)("p",{className:"p",children:Object(i.jsx)("textarea",{className:" textarea",autoComplete:"off",placeholder:" ins\xe9rer une requ\xeate",name:"request",type:"text",ref:a})})]})}))})]})]})}),Object(i.jsxs)("div",{className:"div",children:[Object(i.jsx)("button",{onClick:function(){return alert("Op\xe9ration r\xe9ussie")},className:"button",type:"submit",children:" Enregistrer"}),Object(i.jsx)(o.b,{to:"/GrapheParametresFct/".concat(b.SP_NAME," "),children:Object(i.jsx)("button",{className:"button2",children:" Param\xe9trer le graphe"})})]})]})]})})}function X(e){var t=e.match,c=Object(n.useContext)(j),a=Object(l.a)(c,2),r=(a[0],a[1]),s=Object(O.b)(),o=s.control,u=s.setValue,b=s.register,d=s.handleSubmit,h=Object(O.b)(),p=h.register,x=h.handleSubmit,m=Object(n.useState)({}),f=Object(l.a)(m,2),v=f[0],g=f[1],N=Object(n.useState)([]),C=Object(l.a)(N,2),E=C[0],S=C[1],_=Object(n.useState)({}),A=Object(l.a)(_,2),k=(A[0],A[1]),P=Object(n.useState)([]),T=Object(l.a)(P,2),L=(T[0],T[1]);Object(n.useEffect)((function(){y(r).get("http://localhost:4000/BDD").then((function(e){return L(e.data)})).catch((function(e){return console.log(e)}))}),[]);Object(n.useEffect)((function(){y(r).get("http://localhost:4000/Get_values_fct/".concat(t.params.fct)).then((function(e){g(e.data),console.log(e.data)})).catch((function(e){return console.log(e)}))}),[]);var M=[{value:"null",label:"null"},{value:"line",label:"Line chart"},{value:"bar",label:"Bar chart"},{value:"timeseries ",label:"Timeseries Chart"},{value:"spline",label:"Spline Chart"},{value:"area-spline",label:" area Spline Chart"},{value:"step",label:"Area Chart"},{value:"area-step",label:"Area Step Chart"},{value:"scatter ",label:"Scatter Plot"},{value:"pie",label:"Pie Chart"},{value:"donut",label:"Donut Chart"}],w=[{value:"null",label:"null"},{value:"x",label:"x"},{value:"y",label:"y"},{value:"y2",label:"y2"}];return console.log("result",E[0]),Object(i.jsxs)("div",{className:"container",children:[Object(i.jsx)("form",{onSubmit:d((function(e){console.log("df",e),y(r).post("http://localhost:4000/set_function/",e).then((function(e){S(e.data)})).catch((function(e){return console.log(e)}))})),children:Object(i.jsxs)("div",{children:[Object.keys(v).map((function(e){return"procedure"==e?Object(i.jsxs)("div",{children:[Object(i.jsxs)("h2",{children:[" ",v[e],"  "]}),Object(i.jsx)("input",{type:"hidden",value:t.params.fct,name:"nameProc",ref:b})]}):"bdd"==e?Object(i.jsx)("input",{type:"hidden",value:v[e],name:"bdd",ref:b}):"@"==e.charAt(0)?Object(i.jsxs)("div",{className:"row",children:[Object(i.jsxs)("span",{style:{marginLeft:"15px",marginRight:"10px"},children:[v[e]," "]}),Object(i.jsx)(D,{type:e,valeur:v.valeur,requete:v.request,register:b,setValue:u,control:o})]}):void 0})),Object(i.jsx)("div",{className:"div",children:Object(i.jsx)("button",{className:"button",type:"submit",children:" Executer"})})]})},1),E.length>0&&Object(i.jsxs)("form",{onSubmit:x((function(e){y(r).post("http://localhost:4000/setGraphFct/".concat(t.params.fct),e).then((function(t){k(t.data),console.log(e),console.log(t)})).catch((function(e){return console.log(e)}))})),children:[Object(i.jsxs)("table",{style:{marginTop:"30px"},className:"table ",children:[Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{children:"Titre"}),Object(i.jsx)("td",{children:Object(i.jsx)("input",{name:"title",autoComplete:"off",placeholder:"Nom du graphe",ref:p})})]}),Object.keys(E[0]).map((function(e){return Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{children:e}),Object(i.jsxs)("td",{children:[Object(i.jsx)("input",{class:"form-check-input",type:"checkbox",name:e+"_visible",ref:p}),"Visible"]}),Object(i.jsx)("td",{children:Object(i.jsx)("input",{autoComplete:"off",placeholder:"Label",name:e+"_label",ref:p})}),Object(i.jsx)("td",{children:Object(i.jsx)("select",{name:e+"_chart",ref:p,children:M.map((function(e){return Object(i.jsx)("option",{value:e.value,children:e.value})}))})}),Object(i.jsx)("td",{children:Object(i.jsx)("select",{name:e+"_axe",ref:p,children:w.map((function(e){return Object(i.jsx)("option",{value:e.value,children:e.value})}))})})]})}))]}),Object(i.jsx)("div",{className:"div",children:Object(i.jsx)("button",{onClick:function(){return alert("Op\xe9ration r\xe9ussie")},className:"button",type:"submit",children:" Enregistrer"})})]},2)]})}function Q(e){var t=e.data,c=e.fonction,a=Object(n.useContext)(j),r=Object(l.a)(a,2),s=(r[0],r[1]),o=Object(n.useState)([]),u=Object(l.a)(o,2),b=u[0],d=u[1];Object(n.useEffect)((function(){y(s).get("http://localhost:4000/getGraphFct/".concat(c)).then((function(e){d(e.data),console.log(e)})).catch((function(e){return console.log(e)}))}),[]),console.log(b);var h={},O={columns:[]},p={},x="",m={};return Object(n.useEffect)((function(){var e=function(e){var t=[];return Object.keys(e).map((function(e){var c=e.split("_")[0];t.find((function(e){return e==c}))||t.push(c)})),t}(b),c=-1;e.map((function(e){"title"==e&&(x=b[e]),b[e+"_visible"]&&(c++,"seance"===e.toLowerCase()?(O.columns[c]=["x"],O.x="x",p.x={type:"timeseries",tick:{format:function(e){return L()(e).format("DD/MM/yyyy")}}}):O.columns[c]=[e],t.map((function(t){"seance"===e.toLowerCase()?O.columns[c].push(L()(t[e]).format("YYYY-MM-DD")):O.columns[c].push(t[e])})),"y"==b[e+"_axe"]&&(h[e]=b[e+"_chart"],p.y={label:{text:b[e+"_label"],position:"outer-middle"}}),"y2"==b[e+"_axe"]&&(m[e]=b[e+"_axe"],h[e]=b[e+"_chart"],p.y2={show:!0,label:{text:b[e+"_label"],position:"outer-middle"}}))})),O.types=h,O.axes=m,P.a.generate({bindto:"#chart",data:O,title:{text:x},axis:p})}),[t]),t.length?Object(i.jsx)("div",{id:"chart"}):null}function z(e){var t=e.match,c=Object(n.useState)({}),a=Object(l.a)(c,2),r=a[0],s=a[1],o=Object(n.useState)([]),u=Object(l.a)(o,2),b=u[0],d=u[1],h=Object(O.b)(),p=h.control,x=h.setValue,m=h.register,f=h.handleSubmit,v=Object(n.useContext)(j),g=Object(l.a)(v,2),N=(g[0],g[1]);Object(n.useEffect)((function(){y(N).get("http://localhost:4000/Get_values_fct/".concat(t.params.fct)).then((function(e){return s(e.data)})).catch((function(e){return console.log(e)}))}),[]);return Object(i.jsxs)("div",{className:"container",children:[Object(i.jsx)("form",{onSubmit:f((function(e){y(N).post("http://localhost:4000/set_function",e).then((function(e){return d(e.data)})).catch((function(e){return console.log(e)}))})),children:Object(i.jsx)("table",{className:"table table-light",children:Object(i.jsxs)("tbody",{children:[Object.keys(r).map((function(e){return"bdd"==e?Object(i.jsx)("input",{type:"hidden",name:"bdd",value:r[e],ref:m}):"procedure"==e?Object(i.jsxs)("div",{children:[Object(i.jsxs)("h2",{children:[" ",r[e],"  "]}),Object(i.jsx)("input",{type:"hidden",value:t.params.fct,name:"nameProc",ref:m})]}):"description"==e?Object(i.jsxs)("tr",{className:"row",children:[Object(i.jsx)("th",{children:"Description"}),Object(i.jsxs)("td",{children:[r[e]," "]})]}):"@"==e.charAt(0)?Object(i.jsxs)("tr",{className:"row",children:[Object(i.jsxs)("th",{style:{marginLeft:"15px",marginRight:"10px"},children:[r[e]," "]}),Object(i.jsxs)("td",{children:[" ",Object(i.jsx)(D,{type:e,valeur:r.valeur,requete:r.request,register:m,setValue:x,control:p})," "]})]}):void 0})),Object(i.jsx)("div",{className:"div",children:Object(i.jsx)("button",{className:"button",type:"submit",children:" Executer"})})]})})}),Object(i.jsx)("div",{className:"container",style:{"margin-top":"30px "},children:Object(i.jsx)(Q,{data:b,fonction:t.params.fct})}),Object(i.jsx)("div",{children:b.length>0&&Object(i.jsx)(R,{apiData:b,fileName:"Data"})})]})}function K(){var e=Object(O.b)(),t=e.register,c=e.handleSubmit,a=Object(n.useContext)(j),r=Object(l.a)(a,2),s=(r[0],r[1]),o=Object(n.useState)([]),u=Object(l.a)(o,2),b=u[0],d=u[1];Object(n.useEffect)((function(){y(s).get("http://localhost:4000/BDD").then((function(e){return d(e.data)})).catch((function(e){return console.log(e)}))}),[]);return Object(i.jsxs)("div",{className:"container",children:[Object(i.jsx)("h2",{style:{marginTop:"20px"},children:"Ajouter une fonction table"}),Object(i.jsxs)("form",{onSubmit:c((function(e){y(s).post("http://localhost:4000/AjoutFonction",e).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))})),children:[Object(i.jsxs)("div",{style:{marginTop:"20px"},class:"form-group",children:[Object(i.jsx)("label",{for:"namefct",children:"Nom de la fonction"}),Object(i.jsx)("input",{autoComplete:"off",type:"text",className:"form-control",id:"namefct",name:"name",placeholder:"ins\xe9rer un nom",ref:t})]}),Object(i.jsxs)("div",{class:"form-group",children:[Object(i.jsx)("label",{style:{marginRight:"15PX"},for:"bdd",children:"Base de donn\xe9es  "}),Object(i.jsx)("select",{name:"bdd",ref:t,children:b.map((function(e){return Object(i.jsx)("option",{value:e.bdd,children:e.bdd})}))})]}),Object(i.jsxs)("div",{class:"form-group",children:[Object(i.jsx)("label",{for:"proc",children:"Ins\xe9rer la fonction table "}),Object(i.jsx)("textarea",{autoComplete:"off",type:"text",className:"form-control",id:"proc",name:"fonction",placeholder:"ins\xe9rer la requ\xeate SQL",ref:t})]}),Object(i.jsx)("button",{onClick:function(){return alert("Op\xe9ration r\xe9ussie")},type:"submit",className:"btn btn-primary",children:"Enregistrer"})]})]})}function W(){var e=Object(n.useContext)(j),t=Object(l.a)(e,2),c=t[0],a=t[1],r=Object(m.g)();return Object(n.useEffect)((function(){c.isLoggedIn||(localStorage.getItem("token")?y(a).get("http://localhost:4000/IsConnected/").then((function(e){a(e.data)})).catch((function(e){return console.log(e)})):r.push("/Login"))}),[c]),Object(i.jsx)("div",{children:Object(i.jsxs)(m.d,{children:[Object(i.jsx)(m.b,{path:"/Login",exact:!0,component:f}),Object(i.jsx)(m.b,{path:"/",exact:!0,component:q}),Object(i.jsx)(U,{path:"/AjoutProcedure",exact:!0,component:J,role:["admin"]}),Object(i.jsx)(U,{path:"/AjoutFonction",exact:!0,component:K,role:["admin"]}),Object(i.jsx)(U,{path:"/Lister_utilisateurs",exact:!0,component:Y,role:["admin"]}),Object(i.jsx)(U,{path:"/Utilisateurs",exact:!0,component:E,role:["admin"]}),Object(i.jsx)(U,{path:"/Utilisateurs/:id",exact:!0,component:E,role:["admin"]}),Object(i.jsx)(U,{path:"/Details_procedure/:name/:baseDD",exact:!0,component:S,role:["admin"]}),Object(i.jsx)(U,{path:"/Details_fonction/:name/:baseDD",exact:!0,component:H,role:["admin"]}),Object(i.jsx)(U,{path:"/Interface_utilisateur/:proc",exact:!0,component:F,role:["user"]}),Object(i.jsx)(U,{path:"/Interface_utilisateur2/:fct",exact:!0,component:z,role:["user"]}),Object(i.jsx)(U,{path:"/GrapheParametres/:proc",exact:!0,component:V,role:["admin"]}),Object(i.jsx)(U,{path:"/GrapheParametresFct/:fct",exact:!0,component:X,role:["admin"]})]})})}var Z=function(){return Object(i.jsx)("div",{children:Object(i.jsxs)(o.a,{children:[Object(i.jsx)(h,{}),Object(i.jsx)(W,{}),Object(i.jsx)(b,{})]})})};s.a.render(Object(i.jsx)(a.a.StrictMode,{children:Object(i.jsx)(u,{children:Object(i.jsx)(Z,{})})}),document.getElementById("root"))}},[[422,1,2]]]);
//# sourceMappingURL=main.ba559932.chunk.js.map